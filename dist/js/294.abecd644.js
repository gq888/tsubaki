"use strict";(self["webpackChunktsubaki_game_library"]=self["webpackChunktsubaki_game_library"]||[]).push([[229,294,807],{4294:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var o=s(6768),l=s(4232),a=s(5130);const n={class:"game-layout-container"},i=["title"],r={class:"button-help-list"},d={class:"button-label"},u={class:"button-description"},h={ref:"gameNav",class:"game-nav"},c={key:1,ref:"gameFooter",class:"game-footer"};function m(e,t,s,m,p,g){const b=(0,o.g2)("GameSettings"),f=(0,o.g2)("router-link"),v=(0,o.g2)("GameControls"),y=(0,o.g2)("GameResultModal");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("button",{class:"toggle-header-btn",onClick:t[0]||(t[0]=(...e)=>g.toggleHeader&&g.toggleHeader(...e)),onMouseleave:t[1]||(t[1]=(...e)=>g.handleMouseLeave&&g.handleMouseLeave(...e)),onTouchstart:t[2]||(t[2]=(...e)=>g.startLongPress&&g.startLongPress(...e)),onTouchend:t[3]||(t[3]=(...e)=>g.stopLongPress&&g.stopLongPress(...e)),onTouchcancel:t[4]||(t[4]=(...e)=>g.stopLongPress&&g.stopLongPress(...e)),onMouseenter:t[5]||(t[5]=(...e)=>g.handleMouseEnter&&g.handleMouseEnter(...e)),title:p.isHeaderExpanded?"收起导航和标题":"展开导航和标题"},(0,l.v_)(p.isHeaderExpanded?"▲":"▼"),41,i),(0,o.Lk)("button",{class:"settings-btn",onClick:t[6]||(t[6]=(...e)=>g.openSettings&&g.openSettings(...e)),title:"游戏设置"}," ⚙️ "),(0,o.Lk)("button",{class:"help-btn",onClick:t[7]||(t[7]=(...e)=>g.openHelp&&g.openHelp(...e)),title:"游戏帮助"}," ❓ "),(0,o.bF)(b,{visible:p.showSettings,currentGame:g.currentGameName,onClose:g.closeSettings,onSettingsSaved:g.handleSettingsSaved,ref:"gameSettings"},null,8,["visible","currentGame","onClose","onSettingsSaved"]),p.showHelp?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"help-modal",onClick:t[10]||(t[10]=(...e)=>g.closeHelp&&g.closeHelp(...e))},[(0,o.Lk)("div",{class:"help-content",onClick:t[9]||(t[9]=(0,a.D$)(()=>{},["stop"]))},[t[19]||(t[19]=(0,o.Lk)("h3",null,"GUIDE",-1)),(0,o.Lk)("div",r,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(p.helpContent,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"button-help-item"},[(0,o.Lk)("span",d,(0,l.v_)(e.label),1),(0,o.Lk)("span",u,(0,l.v_)(e.description),1)]))),128))]),(0,o.Lk)("button",{class:"close-btn",onClick:t[8]||(t[8]=(...e)=>g.closeHelp&&g.closeHelp(...e))},"CLOSE")])])):(0,o.Q3)("",!0),(0,o.bF)(a.eB,{name:"slide-down"},{default:(0,o.k6)(()=>[(0,o.bo)((0,o.Lk)("div",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(p.navItems,t=>((0,o.uX)(),(0,o.Wv)(f,{key:t.path,to:t.path},{default:(0,o.k6)(()=>[(0,o.eW)((0,l.v_)(t.icon+(e.$route.path===t.path?s.title:"")),1)]),_:2},1032,["to"]))),128))],512),[[a.aG,p.isHeaderExpanded]])]),_:1}),(0,o.bF)(a.eB,{name:"slide-down"},{default:(0,o.k6)(()=>[(0,o.bo)((0,o.Lk)("div",{ref:"gameHeader",class:"game-header",style:(0,l.Tr)({top:p.navHeight/16+"rem"})},[(0,o.RG)(e.$slots,"top-controls",{},()=>[s.showTopControls?((0,o.uX)(),(0,o.Wv)(v,(0,o.v6)({key:0},s.gameControlsConfig,{onUndo:t[11]||(t[11]=t=>e.$emit("undo")),onGoon:t[12]||(t[12]=t=>e.$emit("goon")),onStep:t[13]||(t[13]=t=>e.$emit("step")),onAuto:t[14]||(t[14]=t=>e.$emit("auto")),ref:"gameControls"}),null,16)):(0,o.Q3)("",!0)],!0)],4),[[a.aG,p.isHeaderExpanded]])]),_:3}),(0,o.Lk)("div",{class:"game-content-wrapper",style:(0,l.Tr)(g.contentWrapperStyle)},[(0,o.RG)(e.$slots,"game-content",{},void 0,!0)],4),s.showBottomControls||e.$slots["bottom-controls"]?((0,o.uX)(),(0,o.CE)("div",c,[(0,o.RG)(e.$slots,"bottom-controls",{},()=>[s.showBottomControls?((0,o.uX)(),(0,o.Wv)(v,(0,o.v6)({key:0},s.gameControlsConfig,{onUndo:t[15]||(t[15]=t=>e.$emit("undo")),onGoon:t[16]||(t[16]=t=>e.$emit("goon")),onStep:t[17]||(t[17]=t=>e.$emit("step")),onAuto:t[18]||(t[18]=t=>e.$emit("auto")),ref:"bottomGameControls"}),null,16)):(0,o.Q3)("",!0)],!0)],512)):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"result-modals",{},()=>[s.winflag?((0,o.uX)(),(0,o.Wv)(y,{key:0,title:void 0!==s.winTitle?s.winTitle:"U WIN!",subtitle:s.winSubtitle,buttons:s.winButtons||g.defaultWinButtons,modalStyle:s.winModalStyle,customClass:s.winCustomClass,footerHeight:p.footerHeight},(0,o.eX)({_:2},[e.$slots["win-content"]?{name:"content",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"win-content",{},void 0,!0)]),key:"0"}:void 0,e.$slots["win-cards"]?{name:"cards",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"win-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass","footerHeight"])):(0,o.Q3)("",!0),s.loseflag?((0,o.uX)(),(0,o.Wv)(y,{key:1,title:void 0!==s.loseTitle?s.loseTitle:"U LOSE",subtitle:s.loseSubtitle,buttons:s.loseButtons||g.defaultLoseButtons,modalStyle:s.loseModalStyle||{backgroundColor:"rgba(0,0,0,0.5)"},customClass:s.loseCustomClass,footerHeight:p.footerHeight},(0,o.eX)({_:2},[e.$slots["lose-content"]?{name:"content",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"lose-content",{},void 0,!0)]),key:"0"}:void 0,e.$slots["lose-cards"]?{name:"cards",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"lose-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass","footerHeight"])):(0,o.Q3)("",!0),s.drawflag?((0,o.uX)(),(0,o.Wv)(y,{key:2,title:void 0!==s.drawTitle?s.drawTitle:"DRAW GAME",subtitle:s.drawSubtitle,buttons:s.drawButtons||g.defaultDrawButtons,modalStyle:s.drawModalStyle||{backgroundColor:"rgba(0,0,0,0.5)"},customClass:s.drawCustomClass,footerHeight:p.footerHeight},(0,o.eX)({_:2},[e.$slots["draw-content"]?{name:"content",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"draw-content",{},void 0,!0)]),key:"0"}:void 0,e.$slots["draw-cards"]?{name:"cards",fn:(0,o.k6)(()=>[(0,o.RG)(e.$slots,"draw-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass","footerHeight"])):(0,o.Q3)("",!0)],!0)])}s(4114),s(8111),s(7588),s(1701);var p=s(5229),g=s(4807);const b={class:"settings-modal"},f={class:"settings-header"},v={class:"settings-body"},y={class:"setting-item"},S=["value"],T={class:"setting-item"},C={class:"checkbox-container"},H={class:"settings-footer"};function k(e,t,s,l,n,i){return(0,o.uX)(),(0,o.Wv)(a.eB,{name:"modal-fade"},{default:(0,o.k6)(()=>[s.visible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"settings-overlay",onClick:t[5]||(t[5]=(0,a.D$)((...e)=>i.close&&i.close(...e),["self"]))},[(0,o.Lk)("div",b,[(0,o.Lk)("div",f,[t[6]||(t[6]=(0,o.Lk)("h2",null,"SETTING",-1)),(0,o.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},"✕")]),(0,o.Lk)("div",v,[(0,o.Lk)("div",y,[t[7]||(t[7]=(0,o.Lk)("label",{class:"setting-label"},"SPEED",-1)),(0,o.Lk)("input",{type:"range",class:"delay-slider",value:n.localDelay,onInput:t[1]||(t[1]=(...e)=>i.handleDelayChange&&i.handleDelayChange(...e)),min:"0",max:"100",step:"1"},null,40,S),t[8]||(t[8]=(0,o.Lk)("div",{class:"slider-labels"},[(0,o.Lk)("span",null,"FAST"),(0,o.Lk)("span",null,"SLOW")],-1))]),(0,o.Lk)("div",T,[(0,o.Lk)("label",C,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>n.applyToAll=e)},null,512),[[a.lH,n.applyToAll]]),t[9]||(t[9]=(0,o.Lk)("span",{class:"checkbox-label"},"IS APPLY TO ALL GAMES",-1))])])]),(0,o.Lk)("div",H,[(0,o.Lk)("button",{class:"btn btn-secondary",onClick:t[3]||(t[3]=(...e)=>i.reset&&i.reset(...e))},"RESET"),(0,o.Lk)("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>i.save&&i.save(...e))},"SAVE")])])])):(0,o.Q3)("",!0)]),_:1})}var A=s(432),E={name:"GameSettings",props:{visible:{type:Boolean,default:!1},currentGame:{type:String,default:""}},data(){return{localDelay:50,applyToAll:!1,defaultDelay:50}},watch:{visible(e){e&&this.loadSettings()}},mounted(){this.loadSettings()},methods:{recordGameVisit(){if(this.currentGame){const e=`game-visited-${this.currentGame}`;localStorage.setItem(e,"true")}},sliderToDelay(e){return Math.round(100+19*e)},delayToSlider(e){return Math.round((e-100)/19)},loadSettings(){const e=localStorage.getItem("game-global-delay"),t=localStorage.getItem(`game-delay-${this.currentGame}`);t?(this.localDelay=this.delayToSlider(parseInt(t)),this.applyToAll=!1):e?(this.localDelay=this.delayToSlider(parseInt(e)),this.applyToAll=!0):(this.localDelay=this.defaultDelay,this.applyToAll=!1)},handleDelayChange(e){this.localDelay=parseInt(e.target.value)},save(){const e=this.sliderToDelay(this.localDelay);A.A.saveDelay(this.currentGame,e,this.applyToAll),this.$emit("settings-saved",{delay:e,applyToAll:this.applyToAll,currentGame:this.currentGame}),this.close()},reset(){this.localDelay=this.defaultDelay,this.applyToAll=!1},close(){this.$emit("close")}}},$=s(1241);const w=(0,$.A)(E,[["render",k],["__scopeId","data-v-9962d260"]]);var L=w,B=s(6598),G={name:"GameLayout",components:{GameControls:p["default"],GameResultModal:g["default"],GameSettings:L},data(){return{isHeaderExpanded:!0,navHeight:0,headerHeight:0,footerHeight:0,resizeObserver:null,lastScrollTop:0,lastToggleTime:0,toggleCooldown:500,autoHideTimer:null,showSettings:!1,showHelp:!1,helpContent:[],gameControlsButtons:{},longPressTimer:null,isLongPress:!1,isHovered:!1,longPressDuration:500,navItems:[{path:"/month",icon:"🌛"},{path:"/fish",icon:"🐟"},{path:"/blackjack",icon:"♠️"},{path:"/point24",icon:"24"},{path:"/Tortoise",icon:"🐢"},{path:"/Sort",icon:"🐗"},{path:"/Pairs",icon:"🐰"},{path:"/Spider",icon:"🕷️"},{path:"/GridBattle",icon:"⚔️"}]}},props:{title:{type:String,default:""},containerStyle:{type:Object,default:()=>({width:"100%"})},gameRule:{type:String,default:""},showTopControls:{type:Boolean,default:!1},showBottomControls:{type:Boolean,default:!0},gameControlsConfig:{type:Object,default:()=>({})},winflag:{type:Boolean,default:!1},loseflag:{type:Boolean,default:!1},drawflag:{type:Boolean,default:!1},winTitle:String,winSubtitle:String,winButtons:Array,winModalStyle:Object,winCustomClass:String,loseTitle:String,loseSubtitle:String,loseButtons:Array,loseModalStyle:Object,loseCustomClass:String,drawTitle:String,drawSubtitle:String,drawButtons:Array,drawModalStyle:Object,drawCustomClass:String,step:{type:Number,default:0},enableSmartScroll:{type:Boolean,default:!0},smartScrollThreshold:{type:Number,default:50},autoHideDelay:{type:Number,default:2e3}},computed:{contentWrapperStyle(){const e=this.navHeight+this.headerHeight,t=this.footerHeight;return{...this.containerStyle,paddingTop:e/16+"rem",paddingBottom:t/16+"rem"}},defaultWinButtons(){return[{text:"GO ON",callback:()=>this.$emit("goon"),disabled:!1}]},defaultLoseButtons(){return[{text:"RESTART",callback:()=>this.$emit("goon"),disabled:!1},{text:"UNDO",callback:()=>this.$emit("undo"),disabled:this.step<=0}]},defaultDrawButtons(){return[{text:"RESTART",callback:()=>this.$emit("goon"),disabled:!1},{text:"UNDO",callback:()=>this.$emit("undo"),disabled:this.step<=0}]},currentGameName(){return this.$route?.path?.substring(1)||""}},mounted(){this.updateHeights(),this.setupResizeObserver(),this.setupScrollListener(),this.startAutoHideTimer(),B.A.on("game-controls:mounted",this.handleControlsMounted),B.A.on("game-controls:buttons-updated",this.handleControlsButtonsUpdated),B.A.on("game-controls:unmounted",this.handleControlsUnmounted),setTimeout(()=>{B.A.emit("game-layout:request-update");const e=this.currentGameName;if(e){const t=`game-visited-${e}`;localStorage.getItem(t)||(console.log("首次访问游戏，显示帮助弹窗"),setTimeout(()=>{this.openHelp(),this.$refs.gameSettings.recordGameVisit()},500))}},100)},beforeUnmount(){B.A.off("game-controls:mounted",this.handleControlsMounted),B.A.off("game-controls:buttons-updated",this.handleControlsButtonsUpdated),B.A.off("game-controls:unmounted",this.handleControlsUnmounted),this.resizeObserver&&this.resizeObserver.disconnect(),this.removeScrollListener(),this.clearAutoHideTimer(),this.clearLongPressTimer()},methods:{toggleHeader(){this.isHeaderExpanded?this.collapseHeader():this.expandHeader()},updateHeights(){this.$nextTick(()=>{this.$refs.gameNav&&(this.navHeight=this.$refs.gameNav.offsetHeight),this.$refs.gameHeader&&(this.headerHeight=this.$refs.gameHeader.offsetHeight),this.$refs.gameFooter&&(this.footerHeight=this.$refs.gameFooter.offsetHeight)})},setupResizeObserver(){"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{this.updateHeights()}),this.$nextTick(()=>{this.$refs.gameNav&&this.resizeObserver.observe(this.$refs.gameNav),this.$refs.gameHeader&&this.resizeObserver.observe(this.$refs.gameHeader),this.$refs.gameFooter&&this.resizeObserver.observe(this.$refs.gameFooter)}))},setupScrollListener(){this.$nextTick(()=>{const e=this.$el?.querySelector(".game-content-wrapper");e&&(this._scrollHandler=this.handleScroll.bind(this),e.addEventListener("scroll",this._scrollHandler,{passive:!0}))})},removeScrollListener(){const e=this.$el?.querySelector(".game-content-wrapper");e&&this._scrollHandler&&e.removeEventListener("scroll",this._scrollHandler)},handleScroll(e){if(!this.enableSmartScroll)return;const t=e.target,s=t.scrollTop,o=t.scrollHeight,l=t.clientHeight,a=s-this.lastScrollTop,n=a>0,i=a<0,r=s<=this.smartScrollThreshold,d=s+l>=o-this.smartScrollThreshold,u=Date.now(),h=u-this.lastToggleTime>=this.toggleCooldown;h&&(r&&i||d&&n)&&!this.isHeaderExpanded&&(this.lastToggleTime=u,this.expandHeader()),this.lastScrollTop=s},expandHeader(){this.isHeaderExpanded=!0,this.$nextTick(()=>{this.updateHeights()}),this.isLongPress||this.isHovered||this.startAutoHideTimer()},collapseHeader(){this.isLongPress||this.isHovered||(this.isHeaderExpanded=!1,this.$nextTick(()=>{this.updateHeights()}),this.clearAutoHideTimer())},startAutoHideTimer(){this.clearAutoHideTimer(),this.isLongPress||this.isHovered||(this.autoHideTimer=setTimeout(()=>{this.collapseHeader()},this.autoHideDelay))},clearAutoHideTimer(){this.autoHideTimer&&(clearTimeout(this.autoHideTimer),this.autoHideTimer=null)},startLongPress(){this.isLongPress=!1,this.clearLongPressTimer(),this.longPressTimer=setTimeout(()=>{this.isLongPress=!0,this.expandHeader(),this.clearAutoHideTimer()},this.longPressDuration)},stopLongPress(){this.clearLongPressTimer(),this.isLongPress=!1,this.isHeaderExpanded&&!this.isHovered&&this.startAutoHideTimer()},clearLongPressTimer(){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)},handleMouseEnter(){this.isHovered=!0,this.expandHeader(),this.clearAutoHideTimer()},handleMouseLeave(){this.isHovered=!1,this.stopLongPress(),this.isHeaderExpanded&&this.startAutoHideTimer()},openSettings(){this.showSettings=!0},closeSettings(){this.showSettings=!1},handleControlsMounted(e){this.gameControlsButtons[e.instanceId]=e.buttons},handleControlsButtonsUpdated(e){this.gameControlsButtons[e.instanceId]=e.buttons},handleControlsUnmounted(e){delete this.gameControlsButtons[e.instanceId]},openHelp(){const e={undo:"CANCEL THE LAST MOVE",goon:"RESTART THE GAME",restart:"RESTART THE GAME",hint:"GET A HINT",step:"EXECUTE THE NEXT MOVE",auto:"AUTO EXECUTE/STOP AUTO EXECUTE",hitBtn:"DRAW A NEW CARD",passBtn:"STOP DRAWING CARDS"},t=new Map;if(Object.values(this.gameControlsButtons).forEach(e=>{e&&Array.isArray(e)&&e.forEach(e=>{e.action&&t.set(e.action,e)})}),this.$refs.gameControls&&this.$refs.gameControls.displayButtons&&this.$refs.gameControls.displayButtons.forEach(e=>{e.action&&!t.has(e.action)&&t.set(e.action,e)}),this.$refs.bottomGameControls&&this.$refs.bottomGameControls.displayButtons&&this.$refs.bottomGameControls.displayButtons.forEach(e=>{e.action&&!t.has(e.action)&&t.set(e.action,e)}),this.helpContent=[],this.gameRule&&this.helpContent.push({label:"📋",description:`RULE: ${this.gameRule}`}),t.size>0){console.log("通过事件总线获取到的按钮配置:",Array.from(t.values()));const s=Array.from(t.values()).map(t=>({label:t.label||t.action.toUpperCase(),description:e[t.action]||"未知功能"}));this.helpContent.push(...s)}else{console.log("未获取到游戏按钮配置，使用默认按钮说明");const t=[{label:"◀︎",description:e.undo},{label:"RESTART",description:e.restart},{label:"AUTO/STOP",description:e.auto},{label:"►",description:e.step}];this.helpContent.push(...t)}this.showHelp=!0},closeHelp(){this.showHelp=!1},handleSettingsSaved(e){this.$emit("settings-changed",e)}},emits:["undo","goon","step","auto","settings-changed"]};const R=(0,$.A)(G,[["render",m],["__scopeId","data-v-2740ef54"]]);var D=R},4807:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var o=s(6768),l=s(5130),a=s(4232);const n={key:0},i={key:1,class:"small"},r={class:"modal-buttons"},d=["value","onClick","disabled"];function u(e,t,s,u,h,c){return(0,o.uX)(),(0,o.Wv)(l.eB,null,{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,a.C4)(["lose",s.customClass]),style:(0,a.Tr)(c.computedModalStyle)},[s.title?((0,o.uX)(),(0,o.CE)("h1",n,(0,a.v_)(s.title),1)):(0,o.Q3)("",!0),s.subtitle?((0,o.uX)(),(0,o.CE)("h1",i,(0,a.v_)(s.subtitle),1)):(0,o.Q3)("",!0),(0,o.RG)(e.$slots,"content",{},void 0,!0),(0,o.RG)(e.$slots,"cards",{},void 0,!0),(0,o.Lk)("div",r,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.buttons,(e,t)=>((0,o.uX)(),(0,o.CE)("input",{key:t,type:"button",value:e.text,onClick:e.callback,disabled:e.disabled,class:"modal-button"},null,8,d))),128))])],6))]),_:3})}var h={name:"GameResultModal",props:{title:{type:String,default:""},subtitle:{type:String,default:""},buttons:{type:Array,default:()=>[]},modalStyle:{type:Object,default:()=>({})},customClass:{type:String,default:""},footerHeight:{type:Number,default:50}},computed:{computedModalStyle(){return{...this.modalStyle,paddingBottom:this.footerHeight/16+"rem"}},spacerStyle(){return{height:this.footerHeight/16+"rem"}}}},c=s(1241);const m=(0,c.A)(h,[["render",u],["__scopeId","data-v-e395c178"]]);var p=m},5229:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var o=s(6768);const l={class:"btns"},a=["value","disabled","onClick"];function n(e,t,s,n,i,r){return(0,o.uX)(),(0,o.CE)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.displayButtons,(e,t)=>((0,o.uX)(),(0,o.CE)("input",{key:e.id||t,type:"button",value:e.label,disabled:e.disabled,onClick:t=>r.handleButtonClick(e.action)},null,8,a))),128))])}s(4114);var i=s(6598),r={name:"GameControls",props:{buttons:{type:Array,default:()=>[]},instanceId:{type:String,default:()=>`gameControls_${Math.random().toString(36).substr(2,9)}`},showUndo:{type:Boolean,default:!0},showRestart:{type:Boolean,default:!0},showStep:{type:Boolean,default:!0},showAuto:{type:Boolean,default:!0},undoDisabled:{type:Boolean,default:!1},restartDisabled:{type:Boolean,default:!1},stepDisabled:{type:Boolean,default:!1},autoDisabled:{type:Boolean,default:!1},isAutoRunning:{type:Boolean,default:!1}},watch:{displayButtons:{handler(e){i.A.emit("game-controls:buttons-updated",{instanceId:this.instanceId,buttons:e})},deep:!0,immediate:!0}},computed:{displayButtons(){if(this.buttons&&this.buttons.length>0)return this.buttons;const e=[];return this.showUndo&&e.push({label:"◀︎",action:"undo",disabled:this.undoDisabled}),this.showRestart&&e.push({label:"RESTART",action:"goon",disabled:this.restartDisabled}),this.showAuto&&e.push({label:this.isAutoRunning?"STOP":"AUTO",action:"auto",disabled:this.autoDisabled}),this.showStep&&e.push({label:"►",action:"step",disabled:this.stepDisabled}),e}},methods:{handleButtonClick(e){this.$emit(e)},undo(){this.$emit("undo")},goon(){this.$emit("goon")},stepFn(){this.$emit("step")},pass(){this.$emit("auto")}},mounted(){i.A.emit("game-controls:mounted",{instanceId:this.instanceId,buttons:this.displayButtons})},beforeUnmount(){i.A.emit("game-controls:unmounted",{instanceId:this.instanceId})}},d=s(1241);const u=(0,d.A)(r,[["render",n],["__scopeId","data-v-63e7e383"]]);var h=u},6598:function(e,t,s){s(4114),s(8111),s(2489),s(7588);class o{constructor(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){this.events[e]&&(t?this.events[e]=this.events[e].filter(e=>e!==t):delete this.events[e])}emit(e,...t){this.events[e]&&this.events[e].forEach(e=>{e(...t)})}}t.A=new o}}]);
//# sourceMappingURL=294.abecd644.js.map