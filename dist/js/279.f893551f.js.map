{"version":3,"file":"js/279.f893551f.js","mappings":"wPAOsCA,MAAM,oB,mEAN1CC,EAAAA,EAAAA,IAiBM,OAjBNC,EAAAA,EAAAA,IAiBMC,EAhBIC,OAAM,CACdC,IAAI,cACH,eAAcC,EAAAC,OACd,UAASD,EAAAC,S,CAEED,EAAAE,MAASC,EAAAC,a,4BAArBT,EAAAA,EAAAA,IAEM,MAFNU,GAEMC,EAAAA,EAAAA,IADDC,EAAAC,qBAAmB,IAGfR,EAAAE,MAMTO,EAAAA,EAAAA,IAAoBZ,EAAAa,OAAA,WAAAC,IAAA,QAAAC,GAAA,K,WAPpBjB,EAAAA,EAAAA,IAME,O,MAJCkB,IAAKN,EAAAO,SACL,eAAcd,EAAAC,OACdc,OAAKC,EAAAA,EAAAA,IAAA,CAAAC,QAAad,EAAAC,YAAc,QAAU,SAC1Cc,OAAIC,EAAA,KAAAA,EAAA,GAAAC,GAAEjB,EAAAC,aAAc,I,iCAS3B,GACEiB,KAAM,YAENC,cAAc,EACdC,IAAAA,GACE,MAAO,CACLC,MAAOC,EAAAA,GACPC,MAAOC,EAAAA,GACPvB,aAAa,EAEjB,EACAwB,MAAO,CACL3B,OAAQ,CACN4B,KAAM,CAACC,OAAQC,QACfC,UAAU,EACVC,QAAS,MAEX/B,KAAM,CACJ2B,KAAMK,QACND,SAAS,IAGbE,SAAU,CACRrB,QAAAA,GACE,OAAOsB,EAAAA,EAAAA,IAAgBC,KAAKpC,OAC9B,EACAO,mBAAAA,GACE,OAAO8B,EAAAA,EAAAA,IAAuBD,KAAKpC,OACrC,GAEFsC,OAAAA,GAEMF,KAAKG,MAAMC,cACbJ,KAAKK,IAAIC,eAAiBN,KAAKG,MAAMC,YAErCJ,KAAKK,IAAIE,aAAa,UAAWP,KAAKpC,QACtCoC,KAAKK,IAAIG,QAAQ5C,OAASoC,KAAKpC,OAEnC,G,UCvDF,MAAM6C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://tsubaki-game-library/./src/components/CardImage.vue","webpack://tsubaki-game-library/./src/components/CardImage.vue?5bc7"],"sourcesContent":["<template>\n  <div \n    v-bind=\"$attrs\" \n    ref=\"rootElement\"\n    :data-card-id=\"cardId\"\n    :card-id=\"cardId\"\n  >\n    <div v-if=\"!hide && !imageLoaded\" class=\"card-placeholder\">\n      {{ cardPlaceholderText }}\n    </div>\n    <img \n      v-if=\"!hide\" \n      :src=\"imageSrc\" \n      :data-card-id=\"cardId\" \n      :style=\"{ display: imageLoaded ? 'block' : 'none' }\"\n      @load=\"imageLoaded = true\"\n    />\n    <slot v-else></slot>\n  </div>\n</template>\n\n<script>\nimport { CARD_TYPES, CARD_POINTS, getCardPlaceholderText, getCardImageSrc } from '../utils/cardUtils.js';\n\nexport default {\n  name: \"CardImage\",\n  // 启用inheritAttrs，这样属性会直接传递到DOM元素上\n  inheritAttrs: true,\n  data() {\n    return {\n      types: CARD_TYPES,\n      point: CARD_POINTS,\n      imageLoaded: false,\n    }\n  },\n  props: {\n    cardId: {\n      type: [Number, String],\n      required: false,\n      default: \"bg\",\n    },\n    hide: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    imageSrc() {\n      return getCardImageSrc(this.cardId);\n    },\n    cardPlaceholderText() {\n      return getCardPlaceholderText(this.cardId);\n    },\n  },\n  mounted() {\n    // 将根元素暴露给指令使用\n    if (this.$refs.rootElement) {\n      this.$el._cardImageRoot = this.$refs.rootElement;\n      // 确保DOM元素上有card-id属性\n      this.$el.setAttribute('card-id', this.cardId);\n      this.$el.dataset.cardId = this.cardId;\n    }\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"./sum.css\");\n.card-placeholder {\n  background-color: #dfcdc3;\n  color: #719192;\n}\n</style>\n","import { render } from \"./CardImage.vue?vue&type=template&id=51cdb295&scoped=true\"\nimport script from \"./CardImage.vue?vue&type=script&lang=js\"\nexport * from \"./CardImage.vue?vue&type=script&lang=js\"\n\nimport \"./CardImage.vue?vue&type=style&index=0&id=51cdb295&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51cdb295\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_mergeProps","_ctx","$attrs","ref","$props","cardId","hide","$data","imageLoaded","_hoisted_2","_toDisplayString","$options","cardPlaceholderText","_renderSlot","$slots","key","undefined","src","imageSrc","style","_normalizeStyle","display","onLoad","_cache","$event","name","inheritAttrs","data","types","CARD_TYPES","point","CARD_POINTS","props","type","Number","String","required","default","Boolean","computed","getCardImageSrc","this","getCardPlaceholderText","mounted","$refs","rootElement","$el","_cardImageRoot","setAttribute","dataset","__exports__","render"],"sourceRoot":""}