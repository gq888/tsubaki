(function(){"use strict";var t={7582:function(t,e,s){var i=s(5130),a=s(6768);const n={id:"app"},r={id:"nav"};function o(t,e){const s=(0,a.g2)("router-link"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",r,[e[9]||(e[9]=(0,a.eW)(" GAMES:   ",-1)),(0,a.bF)(s,{to:"/month"},{default:(0,a.k6)(()=>[...e[0]||(e[0]=[(0,a.eW)("🌛",-1)])]),_:1}),e[10]||(e[10]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/fish"},{default:(0,a.k6)(()=>[...e[1]||(e[1]=[(0,a.eW)("🐟",-1)])]),_:1}),e[11]||(e[11]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/blackjack"},{default:(0,a.k6)(()=>[...e[2]||(e[2]=[(0,a.eW)("♠️",-1)])]),_:1}),e[12]||(e[12]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/point24"},{default:(0,a.k6)(()=>[...e[3]||(e[3]=[(0,a.eW)("24",-1)])]),_:1}),e[13]||(e[13]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/Tortoise"},{default:(0,a.k6)(()=>[...e[4]||(e[4]=[(0,a.eW)("🐢",-1)])]),_:1}),e[14]||(e[14]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/Sort"},{default:(0,a.k6)(()=>[...e[5]||(e[5]=[(0,a.eW)("🐗",-1)])]),_:1}),e[15]||(e[15]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/Pairs"},{default:(0,a.k6)(()=>[...e[6]||(e[6]=[(0,a.eW)("🐰",-1)])]),_:1}),e[16]||(e[16]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/Spider"},{default:(0,a.k6)(()=>[...e[7]||(e[7]=[(0,a.eW)("🕷️",-1)])]),_:1}),e[17]||(e[17]=(0,a.eW)("   /   ",-1)),(0,a.bF)(s,{to:"/Chess"},{default:(0,a.k6)(()=>[...e[8]||(e[8]=[(0,a.eW)("♟️",-1)])]),_:1})]),(0,a.bF)(i)])}var l=s(1241);const h={},c=(0,l.A)(h,[["render",o]]);var d=c,u=s(1387),g=s(4232);const p={class:"row center"},f={class:"scrore"},m={class:"row"},v={class:"cardsul"},k=["src"],b={class:"row",style:{"margin-top":"10px"}},y={class:"cardsul reverse"},x=["src"],w={class:"row center"},C={class:"scrore"};function L(t,e,s,i,n,r){const o=(0,a.g2)("GameControls"),l=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"win-buttons":[{text:"GO ON",callback:t.goon}],"win-modal-style":{backgroundColor:"rgba(0, 0, 0, 0.7)"},"win-custom-class":"lose","lose-buttons":[{text:"AGAIN",callback:t.goon}],"lose-modal-style":{backgroundColor:"rgba(0, 0, 0, 0.7)"},"lose-custom-class":"lose","draw-buttons":[{text:"GO ON",callback:t.goon}],"draw-modal-style":{backgroundColor:"rgba(0, 0, 0, 0.7)"},"draw-custom-class":"draw lose",onGoon:t.goon}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",p,[e[1]||(e[1]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/17.png"},null,-1)),(0,a.Lk)("span",f,(0,g.v_)(t.score1),1)]),(0,a.Lk)("div",m,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.arr1,t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id,class:"card"},[(0,a.Lk)("img",{src:"./static/"+t.id+".jpg"},null,8,k)]))),128))])])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.arr2,t=>((0,a.uX)(),(0,a.CE)("li",{key:t.id,class:"card"},[(0,a.Lk)("img",{src:"./static/"+t.id+".jpg"},null,8,x)]))),128))])])]),(0,a.Lk)("div",w,[e[2]||(e[2]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/32.png"},null,-1)),(0,a.Lk)("span",C,(0,g.v_)(t.score2),1)])]),"bottom-controls":(0,a.k6)(()=>[(0,a.bF)(o,{buttons:[{label:"HIT",action:"hitBtn",disabled:!t.hitflag},{label:"PASS",action:"passBtn",disabled:!t.hitflag}],onHitBtn:e[0]||(e[0]=e=>t.hit(t.cardsChg,t.arr2)),onPassBtn:t.pass},null,8,["buttons","onPassBtn"])]),_:1},16,["win-buttons","lose-buttons","draw-buttons","onGoon"])}s(4114);var M={name:"Sum",data(){return{title:"BlackJack",arrCard:[],sum:0,score:0,cardsOrg:[],cardsChg:[],cardsIndex:"",types:["♠","♥","♦","♣"],point:["A",2,3,4,5,6,7,8,9,10,"J","Q","K"],arr1:[],arr2:[]}},component:[],methods:{init(t){this.cardsChg=[],t=this.cardsChg,this.arr1.splice(0),this.arr2.splice(0);for(let e=0;e<54;e++)t.push(e);this.shuffleCards(t),console.log(t),this.hit(t,this.arr1),this.hit(t,this.arr2),this.hit(t,this.arr1),this.hit(t,this.arr2)},getCards(t){for(let e in this.types)for(let s in this.point)t.push(this.types[e]+this.point[s]);return t},shuffleCards(t){let e,s;for(let i=0;i<1e3;i++)e=Math.floor(53*Math.random()),s=t[53],t[53]=t[e],t[e]=s;return t},getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t},hit(t,e){var s=t.shift(),i=s>>2;e.push({id:s,value:++i>10?10:i})},getScore(t,e){let s=!1;for(let i=0;i<t.length;i++)e+=t[i].value,1===t[i].value&&(s=!0);return console.log(s),e<=11&&!0===s?e+=10:e>21&&(e=0),e},async stepFn(){this.score1===this.score2?this.gameManager.setDraw():this.score1<this.score2?this.hit(this.cardsChg,this.arr1):this.score1>this.score2&&this.gameManager.setLose()}},computed:{score1:function(){return this.getScore(this.arr1,this.score)},score2:function(){return this.getScore(this.arr2,this.score)}},watch:{score2(){0===this.score2&&this.gameManager.setLose()},score1(){0===this.score1&&this.gameManager.setWin()}}};s(8111),s(7588);const S={key:0},I={key:1,class:"small"},E={class:"modal-buttons"},_=["value","onClick","disabled"];function O(t,e,s,n,r,o){return(0,a.uX)(),(0,a.Wv)(i.eB,null,{default:(0,a.k6)(()=>[((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,g.C4)(["lose",s.customClass]),style:(0,g.Tr)(s.modalStyle)},[s.title?((0,a.uX)(),(0,a.CE)("h1",S,(0,g.v_)(s.title),1)):(0,a.Q3)("",!0),s.subtitle?((0,a.uX)(),(0,a.CE)("h1",I,(0,g.v_)(s.subtitle),1)):(0,a.Q3)("",!0),(0,a.RG)(t.$slots,"content",{},void 0,!0),(0,a.RG)(t.$slots,"cards",{},void 0,!0),(0,a.Lk)("div",E,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.buttons,(t,e)=>((0,a.uX)(),(0,a.CE)("input",{key:e,type:"button",value:t.text,onClick:t.callback,disabled:t.disabled,class:"modal-button"},null,8,_))),128))])],6))]),_:3})}var A={name:"GameResultModal",props:{title:{type:String,default:""},subtitle:{type:String,default:""},buttons:{type:Array,default:()=>[]},modalStyle:{type:Object,default:()=>({})},customClass:{type:String,default:""}}};const G=(0,l.A)(A,[["render",O],["__scopeId","data-v-bfd313b8"]]);var T=G;const D={class:"btns"},X=["value","disabled","onClick"],F={key:0};function z(t,e,s,i,n,r){return(0,a.uX)(),(0,a.CE)("div",D,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.displayButtons,(t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:t.id||e,class:"button-wrapper"},[(0,a.Lk)("input",{type:"button",value:t.label,disabled:t.disabled,onClick:e=>r.handleButtonClick(t.action)},null,8,X),e<r.displayButtons.length-1?((0,a.uX)(),(0,a.CE)("span",F,"    ")):(0,a.Q3)("",!0)]))),128))])}var B={name:"GameControls",props:{buttons:{type:Array,default:()=>[]},showUndo:{type:Boolean,default:!0},showRestart:{type:Boolean,default:!0},showStep:{type:Boolean,default:!0},showAuto:{type:Boolean,default:!0},undoDisabled:{type:Boolean,default:!1},restartDisabled:{type:Boolean,default:!1},stepDisabled:{type:Boolean,default:!1},autoDisabled:{type:Boolean,default:!1}},computed:{displayButtons(){if(this.buttons&&this.buttons.length>0)return this.buttons;const t=[];return this.showUndo&&t.push({label:"UNDO",action:"undo",disabled:this.undoDisabled}),this.showRestart&&t.push({label:"RESTART",action:"goon",disabled:this.restartDisabled}),this.showStep&&t.push({label:"STEP",action:"step",disabled:this.stepDisabled}),this.showAuto&&t.push({label:"AUTO",action:"auto",disabled:this.autoDisabled}),t}},methods:{handleButtonClick(t){this.$emit(t)},undo(){this.$emit("undo")},goon(){this.$emit("goon")},stepFn(){this.$emit("step")},pass(){this.$emit("auto")}}};const W=(0,l.A)(B,[["render",z],["__scopeId","data-v-f6b72c54"]]);var U=W;function $(t,e,s,i,n,r){const o=(0,a.g2)("GameControls"),l=(0,a.g2)("GameResultModal");return(0,a.uX)(),(0,a.CE)("div",{class:"Sum",style:(0,g.Tr)(s.containerStyle)},[(0,a.Lk)("h1",null,(0,g.v_)(s.title),1),(0,a.RG)(t.$slots,"top-controls",{},()=>[s.showTopControls?((0,a.uX)(),(0,a.Wv)(o,(0,a.v6)({key:0},s.gameControlsConfig,{onUndo:e[0]||(e[0]=e=>t.$emit("undo")),onGoon:e[1]||(e[1]=e=>t.$emit("goon")),onStep:e[2]||(e[2]=e=>t.$emit("step")),onAuto:e[3]||(e[3]=e=>t.$emit("auto"))}),null,16)):(0,a.Q3)("",!0)],!0),(0,a.RG)(t.$slots,"game-content",{},void 0,!0),(0,a.RG)(t.$slots,"bottom-controls",{},()=>[s.showBottomControls?((0,a.uX)(),(0,a.Wv)(o,(0,a.v6)({key:0},s.gameControlsConfig,{onUndo:e[4]||(e[4]=e=>t.$emit("undo")),onGoon:e[5]||(e[5]=e=>t.$emit("goon")),onStep:e[6]||(e[6]=e=>t.$emit("step")),onAuto:e[7]||(e[7]=e=>t.$emit("auto"))}),null,16)):(0,a.Q3)("",!0)],!0),(0,a.RG)(t.$slots,"result-modals",{},()=>[s.winflag?((0,a.uX)(),(0,a.Wv)(l,{key:0,title:s.winTitle||"U WIN!",subtitle:s.winSubtitle,buttons:s.winButtons||r.defaultWinButtons,modalStyle:s.winModalStyle,customClass:s.winCustomClass},(0,a.eX)({_:2},[t.$slots["win-content"]?{name:"content",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"win-content",{},void 0,!0)]),key:"0"}:void 0,t.$slots["win-cards"]?{name:"cards",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"win-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass"])):(0,a.Q3)("",!0),s.loseflag?((0,a.uX)(),(0,a.Wv)(l,{key:1,title:s.loseTitle||"U LOSE",subtitle:s.loseSubtitle,buttons:s.loseButtons||r.defaultLoseButtons,modalStyle:s.loseModalStyle||{backgroundColor:"rgba(0,0,0,0.5)"},customClass:s.loseCustomClass},(0,a.eX)({_:2},[t.$slots["lose-content"]?{name:"content",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"lose-content",{},void 0,!0)]),key:"0"}:void 0,t.$slots["lose-cards"]?{name:"cards",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"lose-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass"])):(0,a.Q3)("",!0),s.drawflag?((0,a.uX)(),(0,a.Wv)(l,{key:2,title:s.drawTitle||"DRAW GAME",subtitle:s.drawSubtitle,buttons:s.drawButtons||r.defaultDrawButtons,modalStyle:s.drawModalStyle||{backgroundColor:"rgba(0,0,0,0.5)"},customClass:s.drawCustomClass},(0,a.eX)({_:2},[t.$slots["draw-content"]?{name:"content",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"draw-content",{},void 0,!0)]),key:"0"}:void 0,t.$slots["draw-cards"]?{name:"cards",fn:(0,a.k6)(()=>[(0,a.RG)(t.$slots,"draw-cards",{},void 0,!0)]),key:"1"}:void 0]),1032,["title","subtitle","buttons","modalStyle","customClass"])):(0,a.Q3)("",!0)],!0)],4)}var R={name:"GameLayout",components:{GameControls:U,GameResultModal:T},props:{title:{type:String,default:""},containerStyle:{type:Object,default:()=>({width:"100%"})},showTopControls:{type:Boolean,default:!1},showBottomControls:{type:Boolean,default:!1},gameControlsConfig:{type:Object,default:()=>({})},winflag:{type:Boolean,default:!1},loseflag:{type:Boolean,default:!1},drawflag:{type:Boolean,default:!1},winTitle:String,winSubtitle:String,winButtons:Array,winModalStyle:Object,winCustomClass:String,loseTitle:String,loseSubtitle:String,loseButtons:Array,loseModalStyle:Object,loseCustomClass:String,drawTitle:String,drawSubtitle:String,drawButtons:Array,drawModalStyle:Object,drawCustomClass:String,step:{type:Number,default:0}},computed:{defaultWinButtons(){return[{text:"GO ON",callback:()=>this.$emit("goon"),disabled:!1}]},defaultLoseButtons(){return[{text:"RESTART",callback:()=>this.$emit("goon"),disabled:!1},{text:"UNDO",callback:()=>this.$emit("undo"),disabled:this.step<=0}]},defaultDrawButtons(){return[{text:"RESTART",callback:()=>this.$emit("goon"),disabled:!1},{text:"UNDO",callback:()=>this.$emit("undo"),disabled:this.step<=0}]}},emits:["undo","goon","step","auto"]};const P=(0,l.A)(R,[["render",$],["__scopeId","data-v-7f7a5ddc"]]);var j=P;function N(t,e){let s,i,a=e-1;for(let n=0;n<1e3;n++)s=Math.floor(Math.random()*a),i=t[a],t[a]=t[s],t[s]=i;return t}function K(t,e){return new Promise(s=>{setTimeout(()=>{s(),t()},e)})}function Q(t){return new Promise(e=>setTimeout(e,t))}function Y(t){let e=[];for(let s=0;s<54;s++)e.push(new Promise(e=>{let i=new Image;i.src="./static/"+s+".jpg",i.onload=()=>{t&&t(i,s),e(i)}}));return Promise.all(e)}function V(t,e){if(!e)return!1;for(let s=0;s<e.length;s++)if(t[s]!=e[s])return!1;return!0}function H(t,e){for(let s=0;s<t.length>>1;s++){if(!V(t[s],e))continue;let i,a={};for(i=0;i<s;i++)if(a[t[s].join(".")]=a[t[s].join(".")]?a[t[s].join(".")]+1:1,!V(t[i],t[i+s+1]))break;if(i>=s)return s>40&&console.log("dead foreach",t,e,s),!1;let n=Object.values(a).indexOf(1);if(n<0)return!1}return!0}class J{constructor(t={}){this.hitflag=!0,this.lockflag=!0,this.winflag=!1,this.loseflag=!1,this.drawflag=!1,this.history=[],this.isAutoRunning=!1,this.autoInterval=null,this.autoStepDelay=t.autoStepDelay||500,this.listeners={}}init(){this.hitflag=!0,this.lockflag=!0,this.winflag=!1,this.loseflag=!1,this.drawflag=!1,this.history=[],this.stopAuto(),this.emit("init")}recordOperation(t,e=!1){e?this.history.unshift(t):this.history.push(t),this.emit("historyUpdate",this.history)}undo(){if(0===this.history.length)return null;const t=this.history.pop();return this.emit("undo",t),this.emit("historyUpdate",this.history),this.winflag=!1,this.loseflag=!1,this.drawflag=!1,t}getStepCount(){return this.history.length}canUndo(){return this.history.length>0&&this.hitflag&&this.lockflag}async startAuto(t){if(!(this.isAutoRunning||this.winflag||this.loseflag||this.drawflag)){this.isAutoRunning=!0,this.lockflag=!1,this.emit("autoStart");try{while(this.isAutoRunning&&!this.winflag&&!this.loseflag&&!this.drawflag)await t(),await Q(this.autoStepDelay)}catch(e){console.error("Auto mode error:",e)}finally{this.stopAuto()}}}stopAuto(){this.isAutoRunning&&(this.isAutoRunning=!1,this.lockflag=!0,this.autoInterval&&(clearInterval(this.autoInterval),this.autoInterval=null),this.emit("autoStop"))}async step(t){if(this.hitflag&&!this.winflag&&!this.loseflag&&!this.drawflag){this.hitflag=!1;try{await t()}catch(e){console.error("Step error:",e)}finally{this.hitflag=!0}}}setWin(){this.winflag=!0,this.stopAuto(),this.emit("win")}setLose(){this.loseflag=!0,this.stopAuto(),this.emit("lose")}setDraw(){this.drawflag=!0,this.stopAuto(),this.emit("draw")}reset(t){this.stopAuto(),this.init(),t&&t(),this.emit("reset")}on(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}off(t,e){if(!this.listeners[t])return;const s=this.listeners[t].indexOf(e);s>-1&&this.listeners[t].splice(s,1)}emit(t,e){this.listeners[t]&&this.listeners[t].forEach(s=>{try{s(e)}catch(i){console.error(`Error in event listener for ${t}:`,i)}})}getState(){return{hitflag:this.hitflag,lockflag:this.lockflag,winflag:this.winflag,loseflag:this.loseflag,drawflag:this.drawflag,step:this.getStepCount(),isAutoRunning:this.isAutoRunning}}setState(t){Object.assign(this,t),this.emit("stateChange",this.getState())}static getDefaultComputedProperties(){return{hitflag(){const t=this.gameManager;return!t||t.hitflag},lockflag(){const t=this.gameManager;return!t||t.lockflag},winflag(){const t=this.gameManager;return!!t&&t.winflag},loseflag(){const t=this.gameManager;return!!t&&t.loseflag},drawflag(){const t=this.gameManager;return!!t&&t.drawflag},step(){const t=this.gameManager;return t?t.getStepCount():0},undoDisabled(){const t=this.gameManager;return!t||!t.canUndo()},restartDisabled(){const t=this.gameManager;return!t||!t.hitflag||!t.lockflag},stepDisabled(){const t=this.gameManager;return!t||!t.hitflag||!t.lockflag||t.winflag||t.loseflag||t.drawflag},autoDisabled(){const t=this.gameManager;return!t||!t.hitflag||!t.lockflag||t.winflag||t.loseflag||t.drawflag||t.isAutoRunning},gameState(){const t=this.gameManager;return t?t.getState():{}}}}}function Z(t,e={}){const{computed:s={},methods:i={},autoStepDelay:a=500,hasUndo:n=!0,hasRestart:r=!0,customInit:o=null,customCleanup:l=null}=e;return{...t,components:{...t.components,GameResultModal:T,GameControls:U,GameLayout:j},data(){const e=t.data?t.data.call(this):{};return{...e,gameManager:new J({autoStepDelay:a})}},created(){this.gameManager.init(),this.handleUndo&&this.gameManager.on("undo",this.handleUndo),o&&o.call(this),t.created&&t.created.call(this),this.init&&this.init()},beforeUnmount(){this.gameManager.stopAuto(),this.gameManager.off("undo"),l&&l.call(this),t.beforeUnmount&&t.beforeUnmount.call(this)},computed:{...J.getDefaultComputedProperties(),gameControlsConfig(){return{showUndo:n,showRestart:r,undoDisabled:this.undoDisabled,restartDisabled:this.restartDisabled,stepDisabled:this.stepDisabled,autoDisabled:this.autoDisabled}},gameLayoutProps(){return{title:this.title,gameControlsConfig:this.gameControlsConfig,winflag:this.winflag,loseflag:this.loseflag,drawflag:this.drawflag,step:this.step}},...t.computed,...s},methods:{undo(){this.gameManager.undo()},pass(){this.gameManager.startAuto(async()=>{this.winflag||this.loseflag||this.drawflag||await this.stepFn()})},goon(){this.gameManager.reset(()=>{this.init&&this.init()})},...t.methods,...i}}}const q={cardGame:(t,e=500)=>Z(t,{autoStepDelay:e,hasUndo:!0,hasRestart:!0}),simpleGame:(t,e=1e3)=>Z(t,{autoStepDelay:e,hasUndo:!1,hasRestart:!1,customInit(){this.title&&this.title.includes("FISHING")&&(this.stepFn=async()=>{await this.gameManager.step(async()=>{let t,e=this["cards"+(this.step%4+1)];while(e.length<=0)this.gameManager.recordOperation(),e=this["cards"+(this.step%4+1)];for(await this.hit(e,this.arr),t=1;t<=4;t++)if(this.step%4+1!=t&&this["cards"+t].length>0)break;t>4&&this.gameManager.setWin(),this.gameManager.recordOperation()})}),this.title&&"Month"===this.title&&(this.stepFn=async()=>{this.cards2[12]>=4&&this.gameManager.setLose(),await this.gameManager.step(async()=>{await this.hit()})})}}),pairGame:(t,e=500,s={})=>Z(t,{autoStepDelay:e,hasUndo:!1,hasRestart:!0,methods:s,customCleanup(){this.timer&&clearInterval(this.timer)}}),puzzleGame:(t,e=800,s={})=>Z(t,{autoStepDelay:e,hasUndo:!0,hasRestart:!0,methods:s,customInit(){this.title&&(this.title.includes("24")||this.title.includes("PUZZLE"))&&(this.showHint=function(){console.log("显示提示")})}}),strategyGame:(t,e=1200)=>Z(t,{autoStepDelay:e,hasUndo:!0,hasRestart:!0,customInit(){this.difficulty="normal",this.setDifficulty=function(t){this.difficulty=t,this.gameManager.setAutoStepDelay("easy"===t?1500:"hard"===t?800:1200)}}}),actionGame:(t,e=300)=>Z(t,{autoStepDelay:e,hasUndo:!1,hasRestart:!0,customInit(){this.score=0,this.combo=0,this.addScore=function(t){this.score+=t*(this.combo+1),this.combo++},this.resetCombo=function(){this.combo=0}}}),customGame:(t,e={})=>{const{autoStepDelay:s=500,hasUndo:i=!0,hasRestart:a=!0,features:n=[],customLogic:r=null}=e;return Z(t,{autoStepDelay:s,hasUndo:i,hasRestart:a,customInit(){n.forEach(t=>{switch(t){case"timer":this.gameTime=0,this.gameTimer=null,this.startTimer=function(){this.gameTimer=setInterval(()=>{this.gameTime++},1e3)},this.stopTimer=function(){this.gameTimer&&(clearInterval(this.gameTimer),this.gameTimer=null)};break;case"score":this.score=0,this.highScore=parseInt(localStorage.getItem(`${this.title}_highScore`)||"0"),this.updateScore=function(t){this.score+=t,this.score>this.highScore&&(this.highScore=this.score,localStorage.setItem(`${this.title}_highScore`,this.highScore.toString()))};break;case"difficulty":this.difficulty="normal",this.setDifficulty=function(t){this.difficulty=t;const e={easy:800,normal:500,hard:300};this.gameManager.setAutoStepDelay(e[t]||500)};break}}),r&&"function"===typeof r&&r.call(this)},customCleanup(){this.gameTimer&&clearInterval(this.gameTimer)}})}};const tt=q.strategyGame(M,1e3);var et=tt;const st=(0,l.A)(et,[["render",L],["__scopeId","data-v-70ad939c"]]);var it=st;const at={class:"row flex-row",style:{"padding-top":"10px","justify-content":"space-around"}},nt={class:"flex-col center rela",style:{"max-width":"25%"}},rt={class:"scrore"},ot={class:"flex-col center rela",style:{"max-width":"25%"}},lt={class:"scrore"},ht={class:"flex-col center rela",style:{"max-width":"25%"}},ct={class:"scrore"},dt={class:"flex-col center rela",style:{"max-width":"25%"}},ut={class:"scrore"},gt={class:"row"},pt={class:"cardsul",style:{"padding-left":"0",margin:"0","min-height":"150px"}},ft=["src"],mt=["src"];function vt(t,e,s,i,n,r){const o=(0,a.g2)("message"),l=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"show-bottom-controls":!0,onStep:t.stepFn,onAuto:t.pass,onGoon:t.goon}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",at,[(0,a.Lk)("div",nt,[(0,a.bF)(o,{class:"abso",style:{top:"70px",left:"0px",width:"100%"},show1:"1"},{default:(0,a.k6)(()=>[...e[0]||(e[0]=[(0,a.eW)("1",-1)])]),_:1}),e[1]||(e[1]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/32.png"},null,-1)),(0,a.Lk)("span",{class:"diff",style:(0,g.Tr)({opacity:0!=t.diff1?1:0})},(0,g.v_)(t.diff1>0?"+":"")+(0,g.v_)(t.diff1),5),(0,a.Lk)("span",rt,(0,g.v_)(t.score1),1)]),(0,a.Lk)("div",ot,[(0,a.bF)(o,{class:"abso",style:{top:"70px",left:"0px",width:"100%"}},{default:(0,a.k6)(()=>[...e[2]||(e[2]=[(0,a.eW)("asfasfasdfasfdasdfasdfas",-1)])]),_:1}),e[3]||(e[3]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/31.png"},null,-1)),(0,a.Lk)("span",{class:"diff",style:(0,g.Tr)({opacity:0!=t.diff2?1:0})},(0,g.v_)(t.diff2>0?"+":"")+(0,g.v_)(t.diff2),5),(0,a.Lk)("span",lt,(0,g.v_)(t.score2),1)]),(0,a.Lk)("div",ht,[(0,a.bF)(o,{class:"abso",style:{top:"70px",left:"0px",width:"100%"}},{default:(0,a.k6)(()=>[...e[4]||(e[4]=[(0,a.eW)("1",-1)])]),_:1}),e[5]||(e[5]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/29.png"},null,-1)),(0,a.Lk)("span",{class:"diff",style:(0,g.Tr)({opacity:0!=t.diff3?1:0})},(0,g.v_)(t.diff3>0?"+":"")+(0,g.v_)(t.diff3),5),(0,a.Lk)("span",ct,(0,g.v_)(t.score3),1)]),(0,a.Lk)("div",dt,[(0,a.bF)(o,{class:"abso",style:{top:"70px",left:"0px",width:"100%"}},{default:(0,a.k6)(()=>[...e[6]||(e[6]=[(0,a.eW)("1",-1)])]),_:1}),e[7]||(e[7]=(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/30.png"},null,-1)),(0,a.Lk)("span",{class:"diff",style:(0,g.Tr)({opacity:0!=t.diff4?1:0})},(0,g.v_)(t.diff4>0?"+":"")+(0,g.v_)(t.diff4),5),(0,a.Lk)("span",ut,(0,g.v_)(t.score4),1)])]),(0,a.Lk)("div",gt,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",pt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.arr,e=>((0,a.uX)(),(0,a.CE)("li",{key:e,class:"card m-0",style:{"max-width":"25%"}},[(0,a.Lk)("img",{class:(0,g.C4)({shanshuo:t.ssArr.indexOf(e)>=0,flyin1:t.flyin1.indexOf(e)>=0,flyin2:t.flyin2.indexOf(e)>=0,flyout1:t.flyout1.indexOf(e)>=0,flyout2:t.flyout2.indexOf(e)>=0}),src:"./static/"+e+".jpg"},null,10,ft)]))),128))])])])]),"win-content":(0,a.k6)(()=>[(0,a.Lk)("h1",null,[(0,a.Lk)("img",{class:"avatar",src:"./static/avatar/"+[32,31,29,30][t.step%4]+".png"},null,8,mt),e[8]||(e[8]=(0,a.eW)("WIN! ",-1))])]),_:1},16,["onStep","onAuto","onGoon"])}const kt={class:""},bt={class:"message m-0 rela bg-fff"};function yt(t,e,s,n,r,o){return(0,a.uX)(),(0,a.CE)("div",kt,[(0,a.bo)((0,a.Lk)("div",bt,[(0,a.RG)(t.$slots,"default"),e[0]||(e[0]=(0,a.Lk)("div",{class:"abso corner bubble direction1 bg-fff"},[(0,a.Lk)("div",{class:"bubble bubble2 abso bg-fff"}),(0,a.Lk)("div",{class:"bubble bubble3 abso bg-fff"})],-1))],512),[[i.aG,s.show]])])}var xt={name:"message",props:["corners","show"],methods:{close(){this.$emit("close")}}};const wt=(0,l.A)(xt,[["render",yt]]);var Ct=wt,Lt={name:"Fish",components:{message:Ct},data(){return{title:"FISHING CONTEST OF DOG TEAM",diff1:0,diff2:0,diff3:0,diff4:0,cards1:[],cards2:[],cards3:[],cards4:[],ssArr:[],flyin1:[],flyin2:[],flyout1:[],flyout2:[],cardsIndex:"",arr:[],timer:""}},methods:{init(){this.cards1.splice(0),this.cards2.splice(0),this.cards3.splice(0),this.cards4.splice(0);let t=this.cards1;this.arr.splice(0);for(let e=0;e<54;e++)t.push(e);this.shuffleCards(t),this.cards2.push(...t.splice(-14)),this.cards3.push(...t.splice(-13)),this.cards4.push(...t.splice(-13)),console.log(t,this.cards2,this.cards3)},shuffleCards(t){let e,s;for(let i=0;i<1e3;i++)e=Math.floor(53*Math.random()),s=t[53],t[53]=t[e],t[e]=s;return t},time(t,e){return new Promise(s=>{setTimeout(()=>{s(),t()},e)})},async push(t,e){t.push(e)},async hit(t,e){var s=t.shift(),i=s>>2;if(13==i)return this.push(e,s),this.ssArr.push(s),await this.time(()=>{this.ssArr.splice(0);for(let t=1;t<=4;t++)t!=this.step%4+1&&e.push(...this["cards"+t].splice(0,53==s?5:3))},this.gameManager.autoStepDelay);var a=10==i?0:e.findIndex(t=>t>>2==i);this.push(e,s),a<0||(this.ssArr.push(s,e[a]),await this.time(()=>{this.ssArr.splice(0),t.push(...e.splice(a))},this.gameManager.autoStepDelay))}},computed:{score1:function(){return this.cards1.length},score2:function(){return this.cards2.length},score3:function(){return this.cards3.length},score4:function(){return this.cards4.length}},watch:{score4(t,e){this.diff4=t-e,this.time(()=>{this.diff4=0},this.gameManager.autoStepDelay)},score3(t,e){this.diff3=t-e,this.time(()=>{this.diff3=0},this.gameManager.autoStepDelay)},score2(t,e){this.diff2=t-e,this.time(()=>{this.diff2=0},this.gameManager.autoStepDelay)},score1(t,e){this.diff1=t-e,this.time(()=>{this.diff1=0},this.gameManager.autoStepDelay)}}};const Mt=q.simpleGame(Lt,1e3);var St=Mt;const It=(0,l.A)(St,[["render",vt],["__scopeId","data-v-23140d25"]]);var Et=It;const _t={class:"row center",style1:"overflow:scroll"},Ot={class:"flex-row center"},At={class:"cardsul flex-row center",style:{"padding-left":"0"}},Gt={class:"flex-col center m-0"},Tt={class:"flex-row"},Dt=["onClick"],Xt={key:0,class:"align-center"},Ft={class:"m-0"},zt={class:"cardsul flex-row center",style:{"padding-left":"0","margin-left":"20px"}},Bt={key:0,class:"flex-row center m-0"},Wt=["onClick"];function Ut(t,e,s,n,r,o){const l=(0,a.g2)("point24card"),h=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(h,(0,a.v6)(t.gameLayoutProps,{"show-bottom-controls":!0,"lose-subtitle":"NO EXP = 24",onUndo:t.undo,onGoon:t.goon,onStep:t.stepFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",_t,[(0,a.Lk)("div",Ot,[(0,a.Lk)("ul",At,[(0,a.Lk)("div",Gt,[(0,a.bF)(l,{card:t.arr[0]},null,8,["card"]),(0,a.bo)((0,a.Lk)("div",Tt,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(4,e=>(0,a.Lk)("span",{key:e,class:(0,g.C4)(["sign center",{choose:t.sign==e}]),onClick:s=>t.hitflag&&t.lockflag&&t.clickSign(e)},(0,g.v_)(t.signs[e]),11,Dt)),64))],512),[[i.aG,t.step<3]]),0!=t.sign?((0,a.uX)(),(0,a.CE)("div",Xt,[...e[0]||(e[0]=[(0,a.Lk)("div",{class:"card"},[(0,a.Lk)("img",{src:"./static/bg.jpg"})],-1)])])):(0,a.Q3)("",!0),e[1]||(e[1]=(0,a.Lk)("span",{class:"vertical m-0"},"=",-1)),(0,a.Lk)("span",Ft,(0,g.v_)(t.calc(t.arr[0]).toFixed(2)),1)])]),(0,a.Lk)("ul",zt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.arr,(e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"align-center flex-wrap flex-row center"},[0!=s?((0,a.uX)(),(0,a.CE)("div",Bt,[(0,a.Lk)("span",{class:"sign center",onClick:i=>t.hitflag&&t.lockflag&&t.clickCard(e,s)},(0,g.v_)(t.signs[t.sign]),9,Wt),(0,a.bF)(l,{card:e,onClick:i=>t.hitflag&&t.lockflag&&t.clickCard(e,s)},null,8,["card","onClick"])])):(0,a.Q3)("",!0)]))),128))])])])]),_:1},16,["onUndo","onGoon","onStep","onAuto"])}const $t={class:""},Rt={key:0,class:""},Pt=["src"],jt={key:1,class:"align-center flex-col"},Nt={class:"m-0"};function Kt(t,e,s,i,n,r){const o=(0,a.g2)("point24card",!0);return(0,a.uX)(),(0,a.CE)("div",$t,[Number.isFinite(s.card)?((0,a.uX)(),(0,a.CE)("div",Rt,[(0,a.Lk)("img",{src:"./static/"+s.card+".jpg",class:"card"},null,8,Pt)])):((0,a.uX)(),(0,a.CE)("div",jt,[e[0]||(e[0]=(0,a.Lk)("div",{class:"vertical",style:{width:"50px"}},[(0,a.Lk)("span",null,"(")],-1)),(0,a.bF)(o,{card:s.card[0]},null,8,["card"]),(0,a.Lk)("span",Nt,(0,g.v_)(["UP","+","-","X","/"][s.card[1]]),1),(0,a.bF)(o,{card:s.card[2]},null,8,["card"]),e[1]||(e[1]=(0,a.Lk)("div",{class:"vertical",style:{width:"50px"}},[(0,a.Lk)("span",null,")")],-1))]))])}var Qt={name:"point24card",props:["card"]};const Yt=(0,l.A)(Qt,[["render",Kt]]);var Vt=Yt,Ht=[1,3,2,2,4,4];function Jt(t,e,s){for(var i=0;i<e;i++)for(var a=i+1;a<e;a++){var n=[t[i],t[a]];t[a]=t[e-1];for(var r=0;r<6;r++)if(t[i]=[n[r%2],Ht[r],n[1*!(r%2)]],Jt(t,e-1,s))return!0;t[i]=n[0],t[a]=n[1]}return 1==e&&Math.abs(qt(t[0])-s)<1e-7}let Zt=[()=>{},(t,e)=>t+e,(t,e)=>t-e,(t,e)=>t*e,(t,e)=>t/e];function qt(t){if(Number.isFinite(t))return 1+(t>>2);{let[e,s,i]=t;return e=qt(e),i=qt(i),Zt[s](e,i)}}function te(t){return console.log(t),Number.isFinite(t)?t:te(t[0])}var ee={name:"point24",components:{point24card:Vt},data(){return{title:"Point24",sign:0,cards1:[],cards2:[0,0,0],signs:["UP","+","-","X","/"],arr:[],number:52}},methods:{init(){this.sign=0,this.cards1.splice(0),this.arr.splice(0);let t=this.cards1;for(let e=0;e<this.number;e++)t.push(e);N(t,this.number),this.arr.push(...t.splice(0,4)),this.autoCalc()},calc:qt,first:te,process:Jt,clickSign(t){this.sign=this.sign==t?0:t},recordOperation(t,e){this.gameManager.recordOperation({type:t,...e,timestamp:Date.now()})},handleUndo(t){switch(t.type){case"combine":this.cards2.splice(this.step,1),this.arr.splice(this.arr.findIndex(e=>this.first(e)==this.first(t.combined)),1,t.left,t.right);break}},clickCard(t,e){if(0!=e)if(0!=this.sign){let t=this.arr[0],s=this.arr.splice(e,1)[0],i=[t,this.sign,s];this.arr.splice(0,1,i),this.sign=0,this.cards2.splice(this.step,1,i),this.recordOperation("combine",{left:t,right:s,combined:i})}else{let t=this.arr[0];this.arr.splice(0,1,this.arr[e]),this.arr.splice(e,1,t)}},async stepFn(){await this.gameManager.step(async()=>{if(this.step>=3)return;let t=this.cards2[this.step];this.sign=0,this.clickCard(t[0],this.arr.indexOf(t[0])),await K(()=>{},this.gameManager.autoStepDelay),this.clickSign(t[1]),await K(()=>{},this.gameManager.autoStepDelay),this.clickCard(t[2],this.arr.indexOf(t[2]))})},autoCalc(){if(this.step>=3)return void(24==this.calc(this.arr[0])?this.gameManager.setWin():this.gameManager.setLose());let t=this.step,e=[...this.arr],s=this.process(e,e.length,24);if(!s)return void this.gameManager.setLose();if(this.cards2.splice(2,1,e[0]),t>=2)return;let i=e[0][0],a=e[0][2],n=Number.isFinite(i),r=Number.isFinite(a);this.cards2.splice(1,1,n?a:r?e[0][0]:te(i)==te(this.cards2[0])?a:i),t>=1||(this.cards2.splice(0,1,n?Number.isFinite(a[0])?a[2]:a[0]:r?Number.isFinite(i[0])?i[2]:i[0]:i),console.log(this.cards2))}},watch:{step(){this.autoCalc()}}};const se=q.puzzleGame(ee,800);var ie=se;const ae=(0,l.A)(ie,[["render",Ut],["__scopeId","data-v-d0d8bfde"]]);var ne=ae;const re={class:"row"},oe={class:"center"},le={class:"cardsul",style:{"padding-left":"0","max-width":"690px","justify-content":"space-between","margin-top":"180px"}},he=["src"],ce={class:"m-0 card",style:{"background-color":"#719192"}},de={class1:"row",style:{"margin-top":"10px"}},ue={class:"cardsul",style:{"padding-left":"0","max-width":"740px"}},ge=["src"];function pe(t,e,s,n,r,o){const l=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"show-top-controls":!0,"show-bottom-controls":!0,"lose-subtitle":"YOUR LUCKY CLASSES:","lose-buttons":[{text:"GO ON",callback:t.goon,disabled:!1}],"lose-modal-style":{backgroundColor:"rgba(0,0,0,0.8)"},onStep:t.stepFn,onAuto:t.pass,onGoon:t.goon}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",re,[(0,a.Lk)("div",oe,[(0,a.Lk)("ul",le,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.arr,(e,s)=>((0,a.uX)(),(0,a.CE)("li",{key:s,class:(0,g.C4)(["cards m-0","cards"+s])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e,i)=>((0,a.uX)(),(0,a.CE)("img",{key:e,class:"m-0 card abso",style:(0,g.Tr)({top:30*(t.month==s?i:1+i)+"px",left:0}),src:"./static/"+(t.cards2[s]>i||t.month==s&&(12==t.month&&3==i||4==i)?e:"bg")+".jpg"},null,12,he))),128)),(0,a.bo)((0,a.Lk)("div",ce,null,512),[[i.aG,12==s&&t.month!=s]])],2))),128))])])])]),"lose-cards":(0,a.k6)(()=>[(0,a.Lk)("div",de,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",ue,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards2,(t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:e},[t>=4&&e<12?((0,a.uX)(),(0,a.CE)("img",{key:0,src:"./static/"+(4*e+1)+".jpg",class:"card"},null,8,ge)):(0,a.Q3)("",!0)]))),128))])])])]),_:1},16,["lose-buttons","onStep","onAuto","onGoon"])}var fe={name:"Month",data(){return{title:"Month",month:12,cards1:[],cards2:[],arr:[],timer:"",number:52}},methods:{init(){this.month=12,this.cards1.splice(0),this.cards2.splice(0),this.arr.splice(0);let t=this.cards1;for(let e=0;e<this.number;e++)t.push(e);N(t,this.number);for(let e=0;e<this.number>>2;e++)this.cards2.push(0),this.arr.push(t.splice(0,4))},async push(t,e){t.push(e)},async hit(){let t=this.arr[this.month].pop();var e=t>>2;this.arr[e].unshift(t),this.month=e,this.cards2[e]++}}};const me=q.simpleGame(fe,1e3);var ve=me;const ke=(0,l.A)(ve,[["render",pe],["__scopeId","data-v-68ea02bd"]]);var be=ke;s(1701);const ye={class:"row"},xe={class:"cardsul cards",style:{"padding-left":"0",width:"100%",height:"750px","max-width":"500px",margin:"auto"}},we=["src","onClick"];function Ce(t,e,s,n,r,o){const l=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"show-bottom-controls":!0,"lose-subtitle":"NO PAIR",onUndo:t.undo,onGoon:t.goon,onStep:t.stepFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",ye,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",xe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards1,(e,s)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("li",{key:s,class:"card abso",style:(0,g.Tr)([t.map[s],{width:"20%",height:"150px",margin:"0"}])},[(0,a.Lk)("img",{src:"./static/"+(t.check(s)?e:"bg")+".jpg",onClick:i=>t.hitflag&&t.lockflag&&t.clickCard(e,s),class:(0,g.C4)({shanshuo:t.sign==e})},null,10,we)],4)),[[i.aG,!t.done(e)]])),128))])])])]),_:1},16,["onUndo","onGoon","onStep","onAuto"])}var Le={name:"Tortoise",data(){return{title:"Tortoise",sign:-1,cards1:[],next:[],number:54,map:[{"z-index":0,left:"10%",top:"75px",up:[16,30]},{"z-index":0,left:"30%",top:"75px",up:[16,17,31]},{"z-index":0,left:"50%",top:"75px",up:[17,18,31]},{"z-index":0,left:"70%",top:"75px",up:[18,32]},{"z-index":0,left:"10%",top:"225px",up:[16,19,37]},{"z-index":0,left:"30%",top:"225px",up:[16,17,19,20]},{"z-index":0,left:"50%",top:"225px",up:[17,18,20,21]},{"z-index":0,left:"70%",top:"225px",up:[18,21,33]},{"z-index":0,left:"10%",top:"375px",up:[19,22,37]},{"z-index":0,left:"30%",top:"375px",up:[19,20,22,23]},{"z-index":0,left:"50%",top:"375px",up:[20,21,23,24]},{"z-index":0,left:"70%",top:"375px",up:[21,24,33]},{"z-index":0,left:"10%",top:"525px",up:[22,36]},{"z-index":0,left:"30%",top:"525px",up:[22,23,35]},{"z-index":0,left:"50%",top:"525px",up:[23,24,35]},{"z-index":0,left:"70%",top:"525px",up:[24,34]},{"z-index":1,left:"20%",top:"150px",up:[25]},{"z-index":1,left:"40%",top:"150px",up:[25,26]},{"z-index":1,left:"60%",top:"150px",up:[26]},{"z-index":1,left:"20%",top:"300px",up:[25,27]},{"z-index":1,left:"40%",top:"300px",up:[25,26,27,28]},{"z-index":1,left:"60%",top:"300px",up:[26,28]},{"z-index":1,left:"20%",top:"450px",up:[27]},{"z-index":1,left:"40%",top:"450px",up:[27,28]},{"z-index":1,left:"60%",top:"450px",up:[28]},{"z-index":2,left:"30%",top:"225px",up:[29]},{"z-index":2,left:"50%",top:"225px",up:[29]},{"z-index":2,left:"30%",top:"375px",up:[29]},{"z-index":2,left:"50%",top:"375px",up:[29]},{"z-index":3,left:"40%",top:"300px",up:[]},{"z-index":1,left:"0",top:"0",up:[38]},{"z-index":1,left:"40%",top:"0",up:[39]},{"z-index":1,left:"80%",top:"0",up:[40]},{"z-index":1,left:"80%",top:"300px",up:[41]},{"z-index":1,left:"80%",top:"600px",up:[42]},{"z-index":1,left:"40%",top:"600px",up:[43]},{"z-index":1,left:"0",top:"600px",up:[44]},{"z-index":1,left:"0",top:"300px",up:[45]},{"z-index":2,left:"0",top:"37.5px",up:[46]},{"z-index":2,left:"35%",top:"0",up:[47]},{"z-index":2,left:"75%",top:"0",up:[48]},{"z-index":2,left:"80%",top:"262.5px",up:[49]},{"z-index":2,left:"80%",top:"562.5px",up:[50]},{"z-index":2,left:"45%",top:"600px",up:[51]},{"z-index":2,left:"5%",top:"600px",up:[52]},{"z-index":2,left:"0",top:"337.5px",up:[53]},{"z-index":3,left:"0",top:"75px",up:[]},{"z-index":3,left:"30%",top:"0",up:[]},{"z-index":3,left:"70%",top:"0",up:[]},{"z-index":3,left:"80%",top:"225px",up:[]},{"z-index":3,left:"80%",top:"525px",up:[]},{"z-index":3,left:"50%",top:"600px",up:[]},{"z-index":3,left:"10%",top:"600px",up:[]},{"z-index":3,left:"0",top:"375px",up:[]}]}},methods:{init(){this.sign=-1,this.cards1.splice(0);let t=this.cards1;for(let e=0;e<this.number;e++)t.push(e);N(t,this.number),this.autoCalc()},async stepFn(){this.step>=this.number||await this.gameManager.step(async()=>{let t,e,s=-1,i=i=>{if(i==this.sign)return;if(this.done(i))return;let a=this.cards1.indexOf(i);this.check(a)&&this.map[a]["z-index"]>s&&(t=i,e=a,s=this.map[a]["z-index"])};if(-1!=this.sign&&this.sign<<2!=this.next[0]<<2){let t=this.sign>>2;for(let e=0;e<4;e++){let s=4*t+e;i(s)}}if(s<0)for(let a of this.next)i(a);this.clickCard(t,e)})},check(t){return this.map[t]&&this.map[t].up.findIndex(t=>!this.done(this.cards1[t]))<0},done(t){return this.gameManager.history.indexOf(t)>=0},clickCard(t,e){this.check(e)&&(this.sign==t?this.sign=-1:this.sign>>2!=t>>2?this.sign=t:(this.gameManager.recordOperation(this.sign),this.gameManager.recordOperation(t),this.sign=-1))},undo(){this.sign=-1,this.gameManager.undo(),this.gameManager.undo()},autoCalc(){let t=this.step;if(t>=this.number)return void this.gameManager.setWin();let e,s=[],i=-1,a=-1,n=!1;for(e=this.number-1;e>=0;e--){if(this.done(e))n=!0;else{let t=this.cards1.indexOf(e);this.check(t)&&(s.push(e),this.map[t]["z-index"]>i&&(i=this.map[t]["z-index"]))}if(e%4==0){if(s.length>1){if(n)return void(this.next=s);i>a&&(this.next=s,a=i)}i=-1,s=[],n=!1}}a<0&&this.gameManager.setLose()}},watch:{step(){this.autoCalc()}}};const Me=q.cardGame(Le,500);var Se=Me;const Ie=(0,l.A)(Se,[["render",Ce],["__scopeId","data-v-104eda9c"]]);var Ee=Ie;const _e={class:"row"},Oe=["src","onClick"],Ae=["onClick"],Ge={class:"m-0"};function Te(t,e,s,i,n,r){const o=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(o,(0,a.v6)(t.gameLayoutProps,{"show-top-controls":!0,"show-bottom-controls":!0,"lose-subtitle":t.n+"/"+4*t.number,"lose-buttons":[{text:"RESTART",callback:t.goon,disabled:!1},{text:"UNDO",callback:t.undo,disabled:t.undoDisabled}],onUndo:t.undo,onGoon:t.goon,onStep:t.stepFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",_e,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",{class:"cardsul flex-col",style:(0,g.Tr)([{height:150*(t.number+1)+"px"},{"padding-left":"0",width:"100%","max-width":"500px",margin:"0 auto",position:"static"}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards1,(e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"card m-0",style:{width:"25%",height:"150px"}},[e>=0?((0,a.uX)(),(0,a.CE)("img",{key:0,src:"./static/"+e+".jpg",onClick:i=>t.hitflag&&t.lockflag&&t.clickCard(e,s),class:(0,g.C4)({shanshuo:t.cards1[t.cards1.indexOf(e+4)+1]<0})},null,10,Oe)):t.cards1[s-1]>=4?((0,a.uX)(),(0,a.CE)("div",{key:1,onClick:e=>t.hitflag&&t.lockflag&&t.clickSign(s)},[(0,a.Lk)("span",Ge,(0,g.v_)(t.types[t.cards1[s-1]%4]+t.point[(t.cards1[s-1]>>2)-1]),1)],8,Ae)):(0,a.Q3)("",!0)]))),128))],4)])])]),_:1},16,["lose-subtitle","lose-buttons","onUndo","onGoon","onStep","onAuto"])}var De={name:"Sort",data(){return{title:"Sort",cards1:[],types:["♥","♠","♦","♣"],point:["A",2,3,4,5,6,7,8,9,10,"J","Q","K"],number:12,n:0}},methods:{init(){this.cards1.splice(0);let t=this.cards1;for(let e=0;e<4*this.number;e++)t.push(e);N(t,4*this.number);for(let e=0;e<4;e++)t.splice(t.indexOf(4*this.number-1-e),1,-1-e);for(let e=0;e<4;e++)t.splice(e*(this.number+1),0,4*this.number-4+e);this.autoCalc()},recordMove(t,e,s,i){this.gameManager.recordOperation({type:"move",from:t,to:e,card:s,sign:i,timestamp:Date.now()})},handleUndo(t){switch(t.type){case"move":this.cards1.splice(t.to,1,t.sign),this.cards1.splice(t.from,1,t.card);break}},clickCard(t,e){Number.isFinite(e)||(e=this.cards1.indexOf(t));let s=this.cards1.indexOf(t+4);if(s>=0&&this.cards1[s+1]<0){let i=this.cards1[s+1];this.recordMove(e,s+1,t,i),this.cards1.splice(e,1,i),this.cards1.splice(s+1,1,t)}},async stepFn(){await this.gameManager.step(async()=>{this.clickSign(this.next[1]),await Q(this.gameManager.autoStepDelay),this.clickCard(this.next[0])})},clickSign(t){let e=this.cards1[t-1];if(e<4)return;let s=4*((e>>2)-1)+e%4,i=this.cards1.indexOf(s);document.documentElement.scrollTop=window.document.body.scrollTop=i%(this.number+1)*150},autoCalc(){let t=!0,e={},s=[];for(let r=-4;r<0;r++){let t=this.cards1.indexOf(r),s=this.cards1[t-1];e[r]={index:t,card:s,priority:0,_in:0,able:!0}}for(let r=-4;r<0;r++){let i=e[r].index,a=e[r].card,n=[],o=(t,i)=>{if(t<0)s.push([r,t,i]),e[t].priority++,e[t]._in++;else{if(t>=48)return;if(!H(n,[t,0]))return;n.unshift([t,0]),t=this.cards1[this.cards1.indexOf(t+4)+1],o(t,i)}},l=(t,i,a)=>{if(H(n,[i,1])){if(n.unshift([i,1]),a>0&&i>=8){let e=this.cards1[t+1];o(e,a)}if(i=this.cards1[t-1],i<4){let n=t-2,l=1;while(i<0)i=this.cards1[n],n--,l++;if(i>=4*l)return s.push([r,this.cards1[t-1],a]),e[this.cards1[t-1]].priority++,void e[this.cards1[t-1]]._in++;i+=4;while(this.cards1[n]==i&&n%(this.number+1)>0)n--,i+=4,a++;if(n%(this.number+1)==0)return;let h=this.cards1[this.cards1.indexOf(i)+1];return void o(h,a)}t=this.cards1.indexOf(i-4),l(t,i,a)}};if(a>=4){let e=i-1,s=a%4,n=this.cards1.indexOf(a-4);while(this.cards1[e]==4*(this.number-1-e%(this.number+1))+s)e--;if((e<0||e%(this.number+1)==this.number)&&(a<8||n%(this.number+1)==this.number||this.cards1[n+1]==a-8))return void(this.next=[a-4,i]);t=!1}l(i,r,0)}if(t){this.n=0;for(let t=0;t<4*this.number+4;t++)this.cards1[t]>>2==this.number-1-t%(this.number+1)&&this.n++;return void(this.n>=4*this.number?this.gameManager.setWin():this.gameManager.setLose())}let i=[-1,-2,-3,-4];while(i.length>0){let t;for(t=0;t<i.length;t++)if(e[i[t]]._in<=0)break;if(t<i.length){let a=i.splice(t,1)[0],n=0;while(n<s.length)s[n][0]==a?(e[s[n][1]]._in--,e[s[n][1]].deep=s[n][2],s.splice(n,1),e[a].able=!1):n++}else{let t=[i[0]];while(s.length>0){let i=s.findIndex(e=>e[1]==t[0]),a=t.indexOf(s[i][0]);if(a>=0){e[s[i][1]]._in--,s.splice(i,1);for(let i=0;i<a;i++)for(let a=0;a<s.length;a++)if(s[a][0]==t[i]&&s[a][1]==t[i+1]){e[s[a][1]]._in--,s.splice(a,1);break}break}t.unshift(s[i][0])}}}this.next=[-1,-1];let a=999999,n=-1;for(let r=-4;r<0;r++){let t=e[r];if(t.card<4)continue;if(!t.able)continue;let s=t.deep||Math.abs((t.card-4>>2)-(this.number-1)+(t.index%this.number+1));(t.priority>n||t.priority==n&&s<a)&&(this.next=[t.card-4,t.index],a=s,n=t.priority)}}},watch:{step(){this.autoCalc()}}};const Xe=q.puzzleGame(De,500);var Fe=Xe;const ze=(0,l.A)(Fe,[["render",Te],["__scopeId","data-v-2041760d"]]);var Be=ze;const We={class:"row"},Ue={class:"row"},$e={class:"cardsul flex-row center",style:{"padding-left":"0",margin:"0"}},Re=["src"],Pe=["onClick"],je={class:"small"},Ne={class:"small"};function Ke(t,e,s,i,n,r){const o=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(o,(0,a.v6)(t.gameLayoutProps,{"show-top-controls":!0,"show-bottom-controls":!0,onGoon:t.goon,onStep:t.stepFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",We,[(0,a.Lk)("span",null,"TIME: "+(0,g.v_)(t.time),1),e[0]||(e[0]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("span",null,"STEP: "+(0,g.v_)(t.step),1)]),(0,a.Lk)("div",Ue,[(0,a.Lk)("div",null,[(0,a.Lk)("ul",$e,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards1,(e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"card m-0 radius",style:{"max-width":"25%"}},[t.sign==e||t.sign2==e||t.cards2[e]?((0,a.uX)(),(0,a.CE)("img",{key:0,src:"./static/"+e+".jpg"},null,8,Re)):((0,a.uX)(),(0,a.CE)("img",{key:1,src:"./static/bg.jpg",onClick:i=>t.hitflag&&t.lockflag&&t.clickCard(e,s)},null,8,Pe))]))),128))])])])]),"win-content":(0,a.k6)(()=>[(0,a.Lk)("h1",je,"TIME: "+(0,g.v_)(t.time),1),(0,a.Lk)("h1",Ne,"STEP: "+(0,g.v_)(t.step),1)]),_:1},16,["onGoon","onStep","onAuto"])}var Qe={name:"Pairs",data(){return{title:"Pairs",cards1:[],cards2:[],arr:[],sign:-1,sign2:-2,time:0,timer:0,number:48,n:0}},methods:{init(){this.time=0,clearInterval(this.timer),this.timer=0,this.sign=-1,this.sign2=-1,this.cards1.splice(0),this.arr.splice(0),this.cards2.splice(0);let t=this.cards1;for(let e=0;e<this.number;e++)t.push(e),this.cards2.push(!1);N(t,this.number)},async clickCard(t){if(this.timer||(this.timer=setInterval(()=>{this.time++},1e3)),this.sign==t||this.cards2[t])return;if(this.arr[t]=!0,this.gameManager.recordOperation(),this.sign<0)return void(this.sign=t);this.sign>>2==t>>2&&(this.cards2.splice(t,1,!0),this.cards2.splice(this.sign,1,!0),this.sign=-1),this.gameManager.hitflag=!1,this.sign2=t,await Q(this.gameManager.autoStepDelay),this.sign=-1,this.sign2=-1,this.gameManager.hitflag=!0;let e=!0;for(let s=0;s<this.number;s++)if(!this.cards2[s]){e=!1;break}e&&(this.gameManager.setWin(),clearInterval(this.timer),this.timer=0)},async stepFn(){if(this.sign>=0)for(let t=0;t<4;t++){let e=this.sign-this.sign%4+t;if(e!=this.sign&&this.arr[e]&&!this.cards2[e])return await this.clickCard(e)}else{let t;for(let e=0;e<this.number;e++)if(e%4==0&&(t=0),this.arr[e]&&!this.cards2[e]&&t++,t>1)return await this.clickCard(e)}for(let t=0;t<this.number;t++){let e=this.cards1[t];if(!this.arr[e]&&!this.cards2[e])return await this.clickCard(e)}}}};const Ye=q.pairGame(Qe,500);var Ve=Ye;const He=(0,l.A)(Ve,[["render",Ke],["__scopeId","data-v-4b7c139e"]]);var Je=He;const Ze={class:"row"},qe={calss:"center"},ts={key:0,src:"./static/bg.jpg",class:"card m-0 abso",style:{width:"25%",left:"0",top:"0"}},es={key:1,class:"card m-0 abso",style:{width:"25%",left:"0",top:"0"}},ss=["src"],is={class:"m-0 center",style:{width:"25%","max-width":"100px",height:"150px"}},as=["onMouseenter","onTouchenter","onMouseleave","onTouchleave"],ns=["onClick"],rs={class:"m-0"},os=["src"],ls=["src"],hs=["onMouseenter","onTouchenter","onMouseleave","onTouchleave"],cs=["src"],ds=["src"];function us(t,e,s,n,r,o){const l=(0,a.g2)("GameLayout"),h=(0,a.gN)("move");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"show-top-controls":!0,"show-bottom-controls":!0,onUndo:t.undo,onGoon:t.goon,onStep:t.stepFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",Ze,[(0,a.Lk)("div",qe,[(0,a.Lk)("ul",{ref:"container",class:"cardsul rela center",style:(0,g.Tr)([{"padding-left":"0","max-width":"500px",margin:"auto"},{height:t.height+"px"}])},[(0,a.Lk)("li",{class:"m-0 static",style:{"max-width":"100px",width:"25%",height:"150px","z-index":"0"},onClick:e[0]||(e[0]=e=>t.hitflag&&t.lockflag&&t.clickCard(0))},[t.cards[0].length>0?((0,a.uX)(),(0,a.CE)("img",ts)):((0,a.uX)(),(0,a.CE)("div",es))]),(0,a.Lk)("li",{class:(0,g.C4)(["cards m-0 static",{drag:1==t.dragItem}]),style:(0,g.Tr)([{width:"50%",height:"150px"},{zIndex:1==t.dragItem?10:0}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards[1].length>=(t.turn>3?1:4-t.turn)?t.turn>3?1:4-t.turn:t.cards[1].length,e=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{class:(0,g.C4)(["m-0 card abso",{drag:1==t.dragItem,opa0:t.dragCard==t.cards[1][e-1]&&t.enterItem>=0}]),style:(0,g.Tr)([{left:12.5*(3-e)+25+"%",zIndex:3-e},{width:"25%",top:"0"}]),key:t.cards[1][e-1]+(3*t.fresh[1]+1)*t.number},[(0,a.Lk)("img",{src:"./static/"+t.cards[1][e-1]+".jpg",class:(0,g.C4)({shanshuo:t.sign==t.cards[1][e-1],drag:1==t.dragItem})},null,10,ss)],6)),[[h,{start:t.start,end:t.end,move:t.move}]])),128))],6),(0,a.Lk)("li",is,[(0,a.Lk)("span",{class:"m-0",style:(0,g.Tr)({color:t.turn>3?"red":"inherit"})},(0,g.v_)(t.turn),5),e[1]||(e[1]=(0,a.Lk)("span",{class:"m-0"},"/3",-1))]),e[2]||(e[2]=(0,a.Lk)("li",{style:{height:"30px",width:"100%"}},null,-1)),((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(4,e=>(0,a.Lk)("li",{key:e,class:(0,g.C4)(["cards m-0 static center",{drag:t.dragItem==e+1}]),style:(0,g.Tr)([{width:"25%",height:"150px"},{zIndex:t.dragItem==e+1?10:1}]),ref_for:!0,ref:"middleBox",onMouseenter:s=>t.enter(e+1),onTouchenter:s=>t.enter(e+1),onMouseleave:s=>t.leave(e+1),onTouchleave:s=>t.leave(e+1)},[(0,a.Lk)("div",{class:"card m-0 abso",style:(0,g.Tr)([{top:"180px",width:"25%"},{zIndex:t.dragItem==e+1?10:1,left:25*(e-1)+"%"}]),onClick:s=>t.hitflag&&t.lockflag&&t.clickCard(e+1)},[(0,a.Lk)("span",rs,(0,g.v_)(t.types[e-1]+"A"),1)],12,ns),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards[e+1],s=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{key:s+(3*t.fresh[e+1]+2)*t.number,class:(0,g.C4)(["card m-0 abso",{drag:t.dragItem==e+1}]),style:(0,g.Tr)([{top:"180px",width:"25%"},{left:25*(e-1)+"%"}])},[(0,a.Lk)("img",{src:"./static/"+s+".jpg",class:(0,g.C4)({shanshuo:t.sign==s,drag:t.dragItem==e+1,opa0:t.dragCard==s&&t.enterItem>=0})},null,10,os)],6)),[[h,{start:t.start,end:t.end,move:t.move}]])),128)),(0,a.bo)((0,a.Lk)("img",{src:"./static/"+t.dragCard+".jpg",style:(0,g.Tr)([{left:25*(e-1)+"%"},{width:"25%",height:"150px",top:"180px"}]),class:"card m-0 abso"},null,12,ls),[[i.aG,t.dragCard>=0&&t.enterItem==e+1]])],46,as)),64)),e[3]||(e[3]=(0,a.Lk)("li",{style:{height:"30px",width:"100%"}},null,-1)),((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(4,e=>(0,a.Lk)("li",{key:e+4,class:(0,g.C4)(["cards m-0 static",{drag:t.dragItem==e+5}]),style:(0,g.Tr)([{width:"25%"},{height:30*t.cards[e+5].length+120+"px",zIndex:t.dragItem==e+5?10:1}]),ref_for:!0,ref:"downBox",onMouseenter:s=>t.enter(e+5),onTouchenter:s=>t.enter(e+5),onMouseleave:s=>t.leave(e+5),onTouchleave:s=>t.leave(e+5)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards[e+5],(s,i)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{class:(0,g.C4)(["m-0 card abso",{drag:t.dragItem==e+5,opa0:t.dragItem==e+5&&t.dragCard>=s&&t.enterItem>=0}]),key:s+(3*t.fresh[e+5]+3)*t.number,style:(0,g.Tr)([{width:"25%",height:"150px"},{top:30*i+360+"px",left:25*(e-1)+"%"}]),ref_for:!0,ref:"down"},[(0,a.Lk)("img",{src:"./static/"+s+".jpg",class:(0,g.C4)({shanshuo:t.sign==s,drag:t.dragItem==e+5})},null,10,cs)],6)),[[h,{start:t.start,end:t.end,move:t.move}]])),128)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards[t.dragItem],(s,n)=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("img",{key:n+8,src:"./static/"+s+".jpg",style:(0,g.Tr)([{top:30*t.cards[e+5].length+30*(n-t.cards[t.dragItem].indexOf(t.dragCard))+360+"px",left:25*(e-1)+"%"},{width:"25%",height:"150px"}]),class:"card m-0 abso"},null,12,ds)),[[i.aG,t.enterItem==e+5&&(t.dragItem>=6&&t.dragCard>=s||t.dragCard==s)]])),128))],46,hs)),64))],4)])])]),_:1},16,["onUndo","onGoon","onStep","onAuto"])}var gs={},ps=function(t,e){return e&&(t=t.touches[0]),[t.clientX,t.clientY]},fs=function(t,e,s){const i=t._moveData;i.position=ps(e,s),i.offsetX=i.position[0]-i.startPosition[0],i.offsetY=i.position[1]-i.startPosition[1]},ms=function(t,e){return t.cancelable&&t.preventDefault(),!e&&t.stopPropagation(),!1},vs=(t,e,s,i,a)=>{let n=t.el||t.elm;n.dispatchEvent(new CustomEvent(e,{detail:s,bubbles:i,cancelable:a}))};gs.emit=vs;var ks=(t,e,s={})=>{for(const i of e)"function"===typeof s[i]&&t.addEventListener(i,s[i])};gs.listenEvents=ks,gs.mounted=function(t,e,s){if(!s._isInitMove){s._isInitMove=!0;var{page:i=window}=e.value||{},{bubbles:a}=e.modifiers;ks(t,["start","move","end"],e.value);var n,r=!1;t.addEventListener("touchstart",l),t.addEventListener("mousedown",l)}function o(){r=!1,t.removeEventListener("cancel",o),n?(i.removeEventListener("touchend",c),i.removeEventListener("touchmove",h),i.removeEventListener("touchcancel",c)):(i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",h))}function l(r){return n="touchstart"===r.type,t.addEventListener("cancel",o),n?(i.addEventListener("touchend",c,{passive:!1}),i.addEventListener("touchmove",h,{passive:!1}),i.addEventListener("touchcancel",c,{passive:!1})):(i.addEventListener("mouseup",c,{passive:!1}),i.addEventListener("mousemove",h,{passive:!1})),s._moveData||(s._moveData={isTouch:n}),s._moveData.startPosition=ps(r,n),vs(s,"start",{el:t,binding:e,vnode:s}),ms(r,a)}function h(i){return fs(s,i,n),vs(s,"move",{el:t,binding:e,vnode:s}),r=!0,ms(i,a)}function c(i){if(!r){const t=s._moveData;t.offsetX=0,t.offsetY=0,vs(s,"notmove")}return vs(s,"end",{el:t,binding:e,vnode:s}),vs(s,"cancel"),ms(i,a)}},gs.bind=gs.mounted,gs.install=function(t){t.directive("move",gs)};var bs=gs,ys={name:"Spider",data(){return{title:"Spider",cards:[[],[],[],[],[],[],[],[],[],[]],fresh:[0,0,0,0,0,0,0,0,0,0],sign:-99,index:-99,dragCard:-99,dragItem:-99,enterItem:-99,turn:1,types:["♥","♠","♦","♣"],number:52}},directives:{move:bs},created:function(){this.setupGameStateListeners()},mounted(){let t=t=>()=>this.moveEnter(t);if(this.$refs.middleBox&&this.$refs.downBox){this.middleEnters=[],this.downEnters=[];for(let e=0;e<4;e++){let s=this.$refs.middleBox[e],i=this.$refs.downBox[e];this.middleEnters[e]=t(e+2),this.downEnters[e]=t(e+6),s.addEventListener("mousemove",this.middleEnters[e]),s.addEventListener("touchmove",this.middleEnters[e]),i.addEventListener("mousemove",this.downEnters[e]),i.addEventListener("touchmove",this.downEnters[e])}}},beforeUnmount(){if(this.gameManager.off("stateChange"),this.$refs.middleBox&&this.$refs.downBox)for(let t=0;t<4;t++){let e=this.$refs.middleBox[t],s=this.$refs.downBox[t];e.removeEventListener("mousemove",this.middleEnters[t]),e.addEventListener("touchmove",this.middleEnters[t]),s.addEventListener("mousemove",this.downEnters[t]),s.addEventListener("touchmove",this.downEnters[t])}},methods:{setupGameStateListeners(){this.gameManager.on("stateChange",()=>{this.$forceUpdate()})},init(){this.gameManager.init();for(let e=0;e<10;e++)this.cards[e].splice(0);this.fresh=[0,0,0,0,0,0,0,0,0,0],this.turn=1,this.sign=-99,this.dragItem=-99,this.dragCard=-99,this.enterItem=-99;let t=this.cards[0];for(let e=0;e<this.number;e++)t.push(e);N(t,this.number);for(let e=6;e<10;e++)this.cards[e].push(this.cards[0].splice(-1)[0])},findPos(t){for(let e=2;e<10;e++)if(this.cards[e].indexOf(t)>=0)return e;return-99},addAndCheck(t,e){let s=H(this.record,[t,e]);return!!s&&(this.record.unshift([t,e]),!0)},checkDown(t){if(!this.addAndCheck(t,1))return;let e=t%2,s=t>>2;if(12==s)return!1;let i,a=(s+1)%13*4+!e,n=a+2,r=this.findPos(a),o=this.findPos(n);if(r<0&&o<0)return!1;if(r>=6&&o>=6){let e=this.findPos(t),s=this.cards[r][this.cards[r].length-1],i=this.cards[o][this.cards[o].length-1];return(s==a||i==n)&&(e!=(s==a?r:o)&&[e,s==a?r:o])}if(r>=6||o>=6){let e=r>=6?this.cards[r]:this.cards[o],s=r>=6?a:n,i=e.indexOf(s);if(i==e.length-1){let e=this.findPos(t);if(e!=(r>=6?r:o))return[e,r>=6?r:o]}else{let t=this.checkUp(e[i+1]);if(t)return t}if(r<0||o<0)return!1}if(r-2==a%4){let t=0,e=this.cards[r][this.cards[r].length-1];while(e-4*t>=a){let s=this.checkDown(e-4*t);if(!s)break;i||(i=s),t++}if(e-4*t<a)return i}if(o-2==n%4){let t=0,e=this.cards[o][this.cards[o].length-1];while(e-4*t>=n){let s=this.checkDown(e-4*t);if(!s)break;i||(i=s),t++}if(e-4*t<n)return i}return!1},checkUp(t){if(!this.addAndCheck(t,2))return;let e=t%4,s=t>>2,i=[];for(let a=0;a<=s;a++){let t=4*a+e,n=this.findPos(t);if(n<0){if(a==s){i.push([n,e+2]);break}return!1}if(n==e+2)continue;let r=this.cards[n].indexOf(t);if(r==this.cards[n].length-1){i.push([n,e+2]);continue}let o=this.checkMove(this.cards[n][r+1]);if(!o)return!1;i.push(o)}return i[0]},checkMove(t){if(this.addAndCheck(t,0))return this.checkDown(t)||this.checkUp(t)},async stepFn(){await this.gameManager.step(async()=>{let t=!1;for(let e=6;e<10;e++)if(this.record=[],t=this.checkMove(this.cards[e][0]),t){if(!this.skipCheck&&!H(this.gameManager.history,[t[1],t[0]]))continue;break}if(this.record=[],!t&&this.cards[1].length>0&&(t=this.checkMove(this.cards[1][0])),!t||!this.skipCheck&&!H(this.gameManager.history,[t[1],t[0]]))return this.clickCard(0);this.skipCheck=!1,this.sign=-99,await this.clickCard(t[0]<0?1:t[0]),console.log(t,this.sign),await Q(this.gameManager.autoStepDelay),await this.clickCard(t[1])})},async addCard(){for(let t=6;t<10;t++)this.cards[t].length<=0&&(this.cards[1].length>0?(this.gameManager.recordOperation([t,1,0,1],!0),this.cards[t].push(this.cards[1].splice(0,1)[0])):this.cards[0].length>0&&(this.gameManager.recordOperation([t,0,this.cards[0].length-1,1],!0),this.cards[t].push(this.cards[0].splice(-1)[0])));if(this.cards[0].length<=0&&this.cards[1].length<=0){if(this.lock)return!1;this.dragCard=-99,this.dragItem=-99,this.enterItem=-99,this.lock=!0;for(let t=0;t<this.number;t++){let e=t%4;while(this.cards[e+2].length<=t>>2){this.record=[];let e=this.checkUp(t);if(!e||!this.skipCheck&&!H(this.gameManager.history,[e[1],e[0]]))for(let t=6;t<10;t++)if(!(this.cards[t].length<=0||this.cards[t][0]>>2>=12)&&(this.record=[],e=this.checkMove(this.cards[t][0]),e)){if(!this.skipCheck&&!H(this.gameManager.history,[e[1],e[0]])){e=!1;continue}break}if(e){this.skipCheck=!1,console.log(e),this.sign=-99,await this.clickCard(e[0]),await Q(this.gameManager.autoStepDelay),await this.clickCard(e[1]);for(let e=6;e<10;e++)if(this.cards[e].length<=0){let s,i=this.findPos(t);if(this.cards[i][this.cards[i].length-1]!=t){let s=this.cards[i].indexOf(t),a=[e,i,s+1,this.cards[i].length-s-1,t];this.cards[e].push(...this.cards[i].splice(s+1)),this.gameManager.recordOperation(a,!0);continue}for(s=48;s<52;s++){let t=this.findPos(s);if(t<6)continue;let i=this.cards[t].indexOf(s);if(s<=0)continue;let a=[e,t,i,this.cards[t].length-i,s];if(console.log(a),H(this.gameManager.history,a)){this.cards[e].push(...this.cards[t].splice(i)),this.gameManager.recordOperation(a,!0);break}}if(s<52)continue;for(s=6;s<10;s++)if(this.cards[s].length>1){let t=[e,s,this.cards[s].length-1,1];if(!H(this.gameManager.history,t))continue;this.cards[e].push(this.cards[s].splice(-1)[0]),this.gameManager.recordOperation(t,!0);break}}}else this.skipCheck=!0}}this.sign=-99,this.gameManager.setWin(),this.lock=!1}},async clickCard(t){let e=this.cards[t].length;if(0==t){if(this.cards[0].length>0)this.gameManager.recordOperation([1,0,this.turn>3?1:4-this.turn],!0),this.cards[1].unshift(...this.cards[0].splice(this.turn>3?-1:this.turn-4));else{for(let t=0;t<this.gameManager.history.length;t++){let e=this.gameManager.history[t];if(0==e[0]&&1==e[1])this.skipCheck=!0;else if(1!=e[0]||0!=e[1])break}this.gameManager.recordOperation([0,1,this.cards[1].length],!0),this.cards[0].unshift(...this.cards[1].splice(0)),this.turn++}this.sign=-99}else if(1==t)e>0&&(this.sign=this.cards[t][0],this.index=t);else if(t<6)this.sign==t-2+4*e?(this.gameManager.recordOperation([t,this.index,this.cards[this.index].indexOf(this.sign),1],!0),this.cards[t].push(this.cards[this.index].splice(this.cards[this.index].indexOf(this.sign),1)[0]),this.sign=-99):e>0&&(this.sign=this.cards[t][e-1],this.index=t);else{let s,i=this.cards[t][e-1];this.sign>=0&&this.index>=6&&(s=this.cards[this.index].findIndex(t=>t>>2<13&&t%2!=i%2&&(1+(t>>2))%13==i>>2))>=0?(this.gameManager.recordOperation([t,this.index,s,this.cards[this.index].length-s,i],!0),this.cards[t].push(...this.cards[this.index].splice(s)),this.sign=-99):this.sign>=0&&this.index<6&&this.sign>>2<13&&this.sign%2!=i%2&&(1+(this.sign>>2))%13==i>>2?(this.gameManager.recordOperation([t,this.index,this.cards[this.index].indexOf(this.sign),1,i],!0),this.cards[t].push(this.cards[this.index].splice(this.cards[this.index].indexOf(this.sign),1)[0]),this.sign=-99):e>0&&(this.sign=i,this.index=t)}this.sign<0&&await this.addCard()},undo(){if(this.sign=-99,this.step<=0)return;let t=this.gameManager.history.shift(),e=!1;if(0==t[1]){if(1==t[0])return this.cards[0].push(...this.cards[1].splice(0,t[2]));e=!0,this.cards[0].push(this.cards[t[0]].splice(0,1)[0])}else if(1==t[1]){if(0==t[0])return this.cards[1].unshift(...this.cards[0].splice(0)),void this.turn--;if(this.cards[1].unshift(this.cards[t[0]].splice(-1)[0]),e=!0,t[0]<6||this.cards[t[0]].length>0)return}e&&(t=this.gameManager.history.shift()),this.cards[t[1]].splice(t[2],0,...this.cards[t[0]].splice(-t[3]))},start(t){let e=t.detail.vnode.key%this.number;if(!this.gameManager.hitflag||!this.gameManager.lockflag)return!1;let s=this.findPos(e);if(s<0&&e!=this.cards[1][0])return;let i=t.detail.vnode._moveData;i.offsetLeft=t.detail.el.offsetLeft,i.offsetTop=t.detail.el.offsetTop,this.dragItem=s,this.dragItem<0&&(this.dragItem=1),this.dragCard=e,this.enterItem=-99},async end(t){let e=this.dragItem;if(!this.gameManager.hitflag||!this.gameManager.lockflag)return;if(1==e&&this.dragCard!=this.cards[1][0])return;let s=t.detail.vnode._moveData,i=s.offsetX+s.offsetLeft,a=s.offsetY+s.offsetTop,n=Math.floor((i+50)/this.cardWidth);n>=0&&n<4&&a>=115&&a<=this.height-75&&(n+=a<=330?2:6,await this.clickCard(e).catch(console.log),this.sign>=0&&n!=e&&n>=0&&await this.clickCard(n).catch(console.log)),this.fresh[e]++,this.enterItem=-99,this.dragItem=-99,this.dragCard=-99},enter(t){console.log("enter",t)},leave(t){console.log("leave",t)},moveEnter(t){console.log("moveEnter",t,this.dragItem)},move(t){if(!this.gameManager.hitflag||!this.gameManager.lockflag)return!1;if(1==this.dragItem&&this.dragCard!=this.cards[1][0])return;let e=t.detail.vnode._moveData,s=e.offsetX+e.offsetLeft,i=e.offsetY+e.offsetTop,a=Math.floor((s+50)/this.cardWidth);if(a>=0&&a<4&&i>=115&&i<=this.height-75?(a+=i<=330?2:6,this.dragItem!=a&&(this.enterItem=a)):this.enterItem=-99,t.detail.el.style.left=s+"px",t.detail.el.style.top=i+"px",this.dragItem>=6){let t=this.cards[this.dragItem].indexOf(this.dragCard),s=0;for(let i of this.$refs.down){let a=i.className.match("drag");!a||++s<=t||(i.style.left=e.offsetX+e.offsetLeft+"px",i.style.top=e.offsetY+e.offsetTop+30*(s-t-1)+"px")}}}},computed:{height(){return 30*Math.max(...this.cards.slice(-4).map(t=>t.length))+480},cardWidth(){return this.$refs.container?this.$refs.container.offsetWidth>>2:500}}};const xs=q.cardGame(ys,500);var ws=xs;const Cs=(0,l.A)(ws,[["render",us],["__scopeId","data-v-2b368e0d"]]);var Ls=Cs;const Ms={class:"row center"},Ss={class:"cardsul center",style:{"padding-left":"0",margin:"0",width:"100%","max-width":"600px","background-color":"#719192",padding:"5px 0"}},Is=["onClick"],Es={class:"shanshuo abso",style:{width:"100%",height:"100%","background-color":"#ff5722",top:"0",left:"0"}},_s=["src"],Os={class:"row"},As={class:"m-0 scrore"};function Gs(t,e,s,n,r,o){const l=(0,a.g2)("GameLayout");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(t.gameLayoutProps,{"container-style":{width:"100%"},"show-top-controls":!0,"show-bottom-controls":!0,onUndo:t.undo,onGoon:t.goon,onStep:t.stepTwiceFn,onAuto:t.pass}),{"game-content":(0,a.k6)(()=>[(0,a.Lk)("div",Ms,[(0,a.Lk)("div",null,[(0,a.Lk)("div",Ss,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cards1,(e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"m-0 center",style:{width:"16%","border-radius":"50%",overflow:"hidden"},onClick:e=>t.hitflag&&t.lockflag&&t.clickCard(s)},[(0,a.Lk)("div",{class:"center",style:(0,g.Tr)([{width:"100%",position:"relative"},{backgroundColor:e<0?"transparent":t.cards2[e]?e==t.sign?"#FFB800":t.grades[e]==t.grade?"#01AAED":"#5FB878":"#fff"}])},[(0,a.bo)((0,a.Lk)("div",Es,null,512),[[i.aG,t.validBoxes.indexOf(s)>=0]]),(0,a.Lk)("img",{style:(0,g.Tr)([{transform:t.cards2[e]&&t.grades[e]!=t.grade?"rotate(180deg)":"rotate(0)",opacity:e<0?0:100},{width:"100%"}]),src:t.cards2[e]?"./static/avatar/"+e+".png":"./static/logo.png"},null,12,_s)],4)],8,Is))),128))])])]),(0,a.Lk)("div",Os,[(0,a.Lk)("span",As,(0,g.v_)(t.lowCount+" : "+t.highCount),1)])]),_:1},16,["onUndo","onGoon","onStep","onAuto"])}s(2489);let Ts=[[1,0],[1,1],[2,1],[2,2],[3,1],[3,2],[3,3]];var Ds={name:"Chess",data(){return{title:"Chess",cards1:[],cards2:[],sign:-1,sign2:-2,number:36,n:0,grade:-1,modes:[0,1,3,6,10,15,2,5,7,13,18,21,4,8,14,17,24,27,9,12,20,25,26,31,11,19,23,29,30,35,16,22,28,32,34,33],grades:[1,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,0,1,1,0,1,0,0,1,1,0,0,1,1,1]}},computed:{validBoxes(){return this.getValidBoxes(this.sign)},lowCount(){return this.cards1.filter(t=>0===this.grades[t]).length},highCount(){return this.cards1.filter(t=>1===this.grades[t]).length}},methods:{init(){this.sign=-1,this.grade=-1,this.cards1.splice(0),this.cards2.splice(0);let t=this.cards1;for(let e=0;e<this.number;e++)t.push(e);N(t,this.number)},recordMove(t,e,s,i,a){this.gameManager.recordOperation({type:"move",from:t,to:e,card:s,sign:i,signIndex:a,timestamp:Date.now()})},recordFlip(t){this.gameManager.recordOperation({type:"flip",card:t,timestamp:Date.now()})},handleUndo(t){switch(t.type){case"move":this.cards1.splice(t.signIndex,1,t.sign),this.cards1.splice(t.to,1,t.card>=0?t.card:-1);break;case"flip":this.cards2.splice(t.card,1,!1);break}},undo(){this.gameManager.undo(),this.gameManager.undo()},async clickCard(t,e){let s=this.cards1[t];if(this.grade<0&&(this.grade=this.grades[s]),s>=0&&!this.cards2[s])return this.cards2.splice(s,1,!0),this.recordFlip(s),this.sign=-1,void(e||this.gameManager.step(async()=>{await Q(this.gameManager.autoStepDelay),await this.stepFn()}));let i=this.step%2==0?this.grade:!this.grade;if(this.sign>=0&&this.grades[this.sign]!=i)this.sign=s!=this.sign&&s>=0&&this.grades[s]!=i?s:-1;else{if(this.sign>=0&&this.grades[this.sign]==i){if(s>=0&&this.grades[s]==i)return void(this.sign=this.sign==s?-1:s);if(this.validBoxes.indexOf(t)>=0){let i=this.cards1.indexOf(this.sign);return this.cards1.splice(i,1,-1),this.cards1.splice(t,1,this.sign),this.recordMove(i,t,s,this.sign,i),this.sign=-1,s>=0&&(this.lowCount<=0&&(1==this.grade?this.gameManager.setWin():this.gameManager.setLose()),this.highCount<=0&&(0==this.grade?this.gameManager.setWin():this.gameManager.setLose()),1==this.lowCount&&1==this.highCount&&this.gameManager.setDraw()),void(e||this.gameManager.step(async()=>{await Q(this.gameManager.autoStepDelay),await this.stepFn()}))}}this.sign=s}},async stepTwiceFn(){await this.gameManager.step(async()=>{await this.stepFn(),await Q(this.gameManager.autoStepDelay),await this.stepFn()})},getValidBoxes(t){let e=[],s=this.cards1.indexOf(t);if(t<0||s<0)return e;let i=this.modes.indexOf(t),a=Ts[Math.floor(i/6)],n=Ts[i%6];return s+6*n[0]<36&&s%6+n[1]<6&&e.push(s+6*n[0]+n[1]),s-6*n[0]>=0&&s%6+n[1]<6&&e.push(s-6*n[0]+n[1]),s+6*n[0]<36&&s%6-n[1]>=0&&e.push(s+6*n[0]-n[1]),s-6*n[0]>=0&&s%6-n[1]>=0&&e.push(s-6*n[0]-n[1]),s+6*a[1]<36&&s%6+a[0]<6&&e.push(s+6*a[1]+a[0]),s-6*a[1]>=0&&s%6+a[0]<6&&e.push(s-6*a[1]+a[0]),s+6*a[1]<36&&s%6-a[0]>=0&&e.push(s+6*a[1]-a[0]),s-6*a[1]>=0&&s%6-a[0]>=0&&e.push(s-6*a[1]-a[0]),e},async stepFn(){let t=[],e=[],s=[],i=this.step%2==0?this.grade:!this.grade,a=this,n=async function(t,e){console.log(t,e),a.sign=-1,await a.clickCard(t,!0),await Q(a.gameManager.autoStepDelay),await a.clickCard(e,!0)};for(let c=0;c<this.cards1.length;c++){let a=this.cards1[c];if(a<0){t[c]=t[c]||1;continue}if(!this.cards2[a]){t[c]=t[c]||3,e.push(c);continue}if(this.grades[a]==i){t[c]=7,s.push(c);let e=this.getValidBoxes(a);for(let s of e){let e=this.cards1[s];if(!(e<0))if(this.cards2[e]){if(this.grades[e]!=i)return await n(c,s)}else t[s]=5==t[s]||6==t[s]?6:4}continue}t[c]=9;let r=this.getValidBoxes(a);for(let e of r){let s=this.cards1[e];s<0?t[e]=2:this.cards2[s]?this.grades[s]==i&&(t[e]=8):t[e]=4==t[e]||6==t[e]?6:5}}for(let c of s){let e=t[c];if(8==e){let e=this.cards1[c],s=this.getValidBoxes(e);for(let i of s)if(1==t[i])return await n(c,i)}}let r=-1,o=-1;for(let c=0;c<e.length;c++){let s=e[c],i=t[s];if(4==i)return await this.clickCard(s,!0);5==i&&(o=s,e.splice(c,1),c--),6==i&&(r=s)}if(r>=0)return await this.clickCard(r,!0);if(e.length>0){let t=Math.floor(Math.random()*e.length);return await this.clickCard(e[t],!0)}let l=!1,h=[];for(let c of s){let e=this.cards1[c],s=this.getValidBoxes(e);for(let i of s)1==t[i]&&h.push([c,i]),2==t[i]&&(l=[c,i])}if(h.length>0){let t=Math.floor(Math.random()*h.length);return await n(h[t][0],h[t][1])}return o>=0?await this.clickCard(o,!0):l?await n(l[0],l[1]):void console.log("unkown error")}}};const Xs=q.cardGame(Ds,500);var Fs=Xs;const zs=(0,l.A)(Fs,[["render",Gs],["__scopeId","data-v-44139014"]]);var Bs=zs;const Ws=[{path:"/",redirect:"/month"},{path:"/month",component:be},{path:"/fish",component:Et},{path:"/point24",component:ne},{path:"/blackjack",component:it},{path:"/Tortoise",component:Ee},{path:"/Sort",component:Be},{path:"/Pairs",component:Je},{path:"/Spider",component:Ls},{path:"/Chess",component:Bs}],Us=(0,u.aE)({history:(0,u.Bt)(),routes:Ws});var $s=Us,Rs=s(782),Ps=(0,Rs.y$)({state:{},mutations:{},actions:{},modules:{}});Y();const js=(0,i.Ef)(d);js.use($s),js.use(Ps),js.mount("#app")}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var r=1/0;for(c=0;c<t.length;c++){i=t[c][0],a=t[c][1],n=t[c][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every(function(t){return s.O[t](i[l])})?i.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(c--,1);var h=a();void 0!==h&&(e=h)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,r=i[0],o=i[1],l=i[2],h=0;if(r.some(function(e){return 0!==t[e]})){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var c=l(s)}for(e&&e(i);h<r.length;h++)n=r[h],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},i=self["webpackChunktsubaki_game_library"]=self["webpackChunktsubaki_game_library"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],function(){return s(7582)});i=s.O(i)})();
//# sourceMappingURL=app.2ea43bb0.js.map