"use strict";(self["webpackChunktsubaki_game_library"]=self["webpackChunktsubaki_game_library"]||[]).push([[66,229],{66:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var n=s(6768),o=s(5130),a=s(4232);const l={key:0},i={key:1,class:"small"};function u(t,e,s,u,d,r){const c=(0,n.g2)("GameControls");return(0,n.uX)(),(0,n.Wv)(o.eB,null,{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,a.C4)(["lose",s.customClass]),style:(0,a.Tr)(r.computedModalStyle)},[s.title?((0,n.uX)(),(0,n.CE)("h1",l,(0,a.v_)(s.title),1)):(0,n.Q3)("",!0),s.subtitle?((0,n.uX)(),(0,n.CE)("h1",i,(0,a.v_)(s.subtitle),1)):(0,n.Q3)("",!0),(0,n.RG)(t.$slots,"content",{},void 0,!0),(0,n.RG)(t.$slots,"cards",{},void 0,!0),(0,n.bF)(c,{buttons:r.gameControlsButtons,onUndo:e[0]||(e[0]=t=>r.handleAction("undo")),onGoon:e[1]||(e[1]=t=>r.handleAction("goon")),onStep:e[2]||(e[2]=t=>r.handleAction("step")),onAuto:e[3]||(e[3]=t=>r.handleAction("auto"))},null,8,["buttons"])],6))]),_:3})}s(8111),s(116),s(1701);var d=s(5229),r={name:"GameResultModal",components:{GameControls:d["default"]},props:{title:{type:String,default:""},subtitle:{type:String,default:""},buttons:{type:Array,default:()=>[]},modalStyle:{type:Object,default:()=>({})},customClass:{type:String,default:""},footerHeight:{type:Number,default:50}},computed:{computedModalStyle(){return{...this.modalStyle,paddingBottom:this.footerHeight/16+"rem"}},spacerStyle(){return{height:this.footerHeight/16+"rem"}},gameControlsButtons(){return this.buttons.map(t=>({label:t.text,action:t.callback.name||t.text.toLowerCase(),disabled:t.disabled,callback:t.callback}))}},methods:{handleAction(t){const e=this.buttons.find(e=>{const s=e.callback.name||e.text.toLowerCase();return s===t});e&&e.callback&&e.callback()}}},c=s(1241);const h=(0,c.A)(r,[["render",u],["__scopeId","data-v-4d019896"]]);var p=h},5229:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var n=s(6768);const o={class:"btns"},a=["value","disabled","onClick"];function l(t,e,s,l,i,u){return(0,n.uX)(),(0,n.CE)("div",o,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.displayButtons,(t,e)=>((0,n.uX)(),(0,n.CE)("input",{key:t.id||e,type:"button",value:t.label,disabled:t.disabled,onClick:e=>u.handleButtonClick(t.action)},null,8,a))),128))])}s(4114);var i=s(6598),u={name:"GameControls",props:{buttons:{type:Array,default:()=>[]},instanceId:{type:String,default:()=>`gameControls_${Math.random().toString(36).substr(2,9)}`},showUndo:{type:Boolean,default:!0},showRestart:{type:Boolean,default:!0},showStep:{type:Boolean,default:!0},showAuto:{type:Boolean,default:!0},undoDisabled:{type:Boolean,default:!1},restartDisabled:{type:Boolean,default:!1},stepDisabled:{type:Boolean,default:!1},autoDisabled:{type:Boolean,default:!1},isAutoRunning:{type:Boolean,default:!1}},watch:{displayButtons:{handler(t){i.A.emit("game-controls:buttons-updated",{instanceId:this.instanceId,buttons:t})},deep:!0,immediate:!0}},computed:{displayButtons(){if(this.buttons&&this.buttons.length>0)return this.buttons;const t=[];return this.showUndo&&t.push({label:"◀︎",action:"undo",disabled:this.undoDisabled}),this.showRestart&&t.push({label:"RESTART",action:"goon",disabled:this.restartDisabled}),this.showAuto&&t.push({label:this.isAutoRunning?"STOP":"AUTO",action:"auto",disabled:this.autoDisabled}),this.showStep&&t.push({label:"►",action:"step",disabled:this.stepDisabled}),t}},methods:{handleButtonClick(t){this.$emit(t)},undo(){this.$emit("undo")},goon(){this.$emit("goon")},stepFn(){this.$emit("step")},pass(){this.$emit("auto")}},mounted(){i.A.emit("game-controls:mounted",{instanceId:this.instanceId,buttons:this.displayButtons})},beforeUnmount(){i.A.emit("game-controls:unmounted",{instanceId:this.instanceId})}},d=s(1241);const r=(0,d.A)(u,[["render",l],["__scopeId","data-v-63e7e383"]]);var c=r},6598:function(t,e,s){s(4114),s(8111),s(2489),s(7588);class n{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}off(t,e){this.events[t]&&(e?this.events[t]=this.events[t].filter(t=>t!==e):delete this.events[t])}emit(t,...e){this.events[t]&&this.events[t].forEach(t=>{t(...e)})}}e.A=new n}}]);
//# sourceMappingURL=66.c195ccd9.js.map